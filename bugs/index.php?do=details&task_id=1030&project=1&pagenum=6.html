<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-AU" xml:lang="en-AU">
  <head>
    <title>FS#1030 : Wine floating windows move to the right&amp;down by themselves</title>

    <meta name="description" content="Flyspray, a Bug Tracking System written in PHP." />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta http-equiv="Content-Style-Type" content="text/css" />

    <link rel="icon" type="image/png" href="https://awesomewm.org/bugs/themes/Bluey/favicon.ico" />
    <link rel="index" id="indexlink" type="text/html" href="https://awesomewm.org/bugs/" />
        <link media="screen" href="https://awesomewm.org/bugs/themes/Bluey/theme.css" rel="stylesheet" type="text/css" />
    <link media="print"  href="https://awesomewm.org/bugs/themes/Bluey/theme_print.css" rel="stylesheet" type="text/css" />
    <link rel="alternate" type="application/rss+xml" title="Flyspray RSS 1.0 Feed"
          href="https://awesomewm.org/bugs/feed.php?feed_type=rss1&amp;project=1" />
    <link rel="alternate" type="application/rss+xml" title="Flyspray RSS 2.0 Feed"
          href="https://awesomewm.org/bugs/feed.php?feed_type=rss2&amp;project=1" />
	<link rel="alternate" type="application/atom+xml" title="Flyspray Atom 0.3 Feed"
	      href="https://awesomewm.org/bugs/feed.php?feed_type=atom&amp;project=1" />

    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/prototype/prototype.js"></script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/script.aculo.us/scriptaculous.js"></script>
            <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/details.js"></script>
                <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/tabs.js"></script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/functions.js"></script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/jscalendar/calendar_stripped.js"></script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/jscalendar/calendar-setup_stripped.js"> </script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/jscalendar/lang/calendar-en.js"></script>
    <script type="text/javascript" src="https://awesomewm.org/bugs/javascript/lightbox/js/lightbox.js"></script>
    <link rel="stylesheet" href="https://awesomewm.org/bugs/javascript/lightbox/css/lightbox.css" type="text/css" media="screen" />
    <!--[if IE]>
    <link media="screen" href="https://awesomewm.org/bugs/themes/Bluey/ie.css" rel="stylesheet" type="text/css" />
    <![endif]-->
      </head>
  <body onload="perms = new Perms('permissions');">

  <div id="container">
    <!-- Remove this to remove the logo -->
    <h1 id="title"><a href="https://awesomewm.org/bugs/">awesome</a></h1>

    <div id="menu">

<form id="login" action="https://awesomewm.org/bugs/index.php?do=authenticate" method="post">
<div>
  <label for="lbl_user_name">Username</label>
  <input class="text" type="text" id="lbl_user_name" name="user_name" size="17" maxlength="30" />

  <label for="lbl_password">Password</label>
  <input class="password" type="password" id="lbl_password" name="password" size="17" maxlength="30" />

  <label for="lbl_remember">Remember me</label>
  <input type="checkbox" id="lbl_remember" name="remember_login" />
  
  <input type="hidden" name="return_to" value="/bugs/index.php?do=details&amp;task_id=1030&amp;project=1&amp;pagenum=6" />

  <button accesskey="l" type="submit">Login!</button>

  <span id="links">
            <a id="forgotlink" href="https://awesomewm.org/bugs/index.php?do=lostpw">Lost password?</a>
      </span>
</div>
</form>
</div>

<div id="pm-menu">

<div id="projectselector">
    <form id="projectselectorform" action="https://awesomewm.org/bugs/index.php" method="get">
       <div>
        <select name="project" onChange="document.getElementById('projectselectorform').submit()">
          <option value="0">All Projects</option>        </select>
        <button type="submit">Switch</button>
        <input type="hidden" name="do" value="details" />
        <input type="hidden" value="1" name="switch" />
              </div>
    </form>
</div>

<ul id="pm-menu-list">
    <li class="first">
      <a id="toplevellink" href="https://awesomewm.org/bugs/index.php?do=toplevel&amp;project=1">Overview</a>
    </li>

    <li>
    <a id="homelink"
        href="https://awesomewm.org/bugs/index.php?project=1&amp;do=index">Tasklist</a>
    </li>

    
    
        <li>
    <a id="roadmaplink"
        href="https://awesomewm.org/bugs/index.php?do=roadmap&amp;project=1">Roadmap</a>
    </li>
    
    
    </ul>
</div>

    
    <div id="content">
      <div id="showtask">
        <form action="https://awesomewm.org/bugs/index.php" method="get">
          <div>
            <button type="submit">Show Task #</button>
            <input id="taskid" name="show_task" class="text" type="text" size="10" accesskey="t" />
          </div>
        </form>
      </div>

      <div class="clear"></div>
            <div id="intromessage">Welcome to awesome bug tracking system.</div>
      <div id="taskdetails">
<span id="navigation">   <a href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1033&amp;project=1&amp;pagenum=6" title="Unconfirmed | Add checksum values to dist.sh for download verification | 0%"  id = "prev" accesskey = "p">Previous task</a>     |     <a href="https://awesomewm.org/bugs/index.php?project=1&amp;do=index&amp;pagenum=6">Tasklist</a>
   |     <a href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1027&amp;project=1&amp;pagenum=6" title="Unconfirmed | Make awful.placement.no_overlap more intelligent | 0%"  id = "next" accesskey = "n">Next task</a>  </span>

  <h2 class="summary severity3">
	 FS#1030 - Wine floating windows move to the right&amp;down by themselves  </h2>

  <div id="fineprint">
	 Attached to Project:
	 <a href="/bugs/index.php?project=1">awesome</a>
	 <br />
	 Opened by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=660">eurekafag (eurekafag)</a>     	 - Saturday, 18 August 2012, 11:16 GMT 	 	 <br />
	 Last edited by  <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a>	 - Saturday, 08 November 2014, 23:03 GMT 	   </div>

  <table><tr><td id="taskfieldscell">
  <div id="taskfields">
	 <table>
		<tr>
		  <th id="tasktype">Task Type</th>
		  <td headers="tasktype">Bug Report</td>
		</tr>
		<tr>
		  <th id="category">Category</th>
		  <td headers="category">
			 			 Core		  </td>
		</tr>
		<tr>
		  <th id="status">Status</th>
		  <td headers="status">
			 			 Unconfirmed                               &nbsp; <strong class="reopened">Reopened</strong>
               			 		  </td>
		</tr>
		<tr>
		  <th id="assignedto">Assigned To</th>
		  <td headers="assignedto">
			 			 No-one			 		  </td>
		</tr>
		<tr>
		  <th id="os">Operating System</th>
		  <td headers="os">Linux</td>
		</tr>
		<tr>
		  <th id="severity">Severity</th>
		  <td headers="severity">Medium</td>
		</tr>
		<tr>
		  <th id="priority">Priority</th>
		  <td headers="priority">Normal</td>
		</tr>
		<tr>
		  <th id="reportedver">Reported Version</th>
		  <td headers="reportedver">3.5.5</td>
		</tr>
		<tr>
		  <th id="dueversion">Due in Version</th>
		  <td headers="dueversion">
			 			 Undecided			 		  </td>
		</tr>
		<tr>
		  <th id="duedate">Due Date</th>
		  <td headers="duedate">
			 Undecided		  </td>
		</tr>
		<tr>
		  <th id="percent">Percent Complete</th>
		  <td headers="percent">
			 <img src="https://awesomewm.org/bugs/themes/Bluey/percent-0.png"
				title="0% complete"
				alt="0%" />
		  </td>
		</tr>
        <tr class="votes">
		  <th id="votes">Votes</th>
		  <td headers="votes">
                    <a href="javascript:showhidestuff('showvotes')">4 </a>
          <div id="showvotes" class="hide">
              <ul class="reports">
                              <li><a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=494">Daniel Hahler (blueyed)</a> (2014-07-08)</li>
                              <li><a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=705">Lauri Niskanen (Ape)</a> (2014-03-11)</li>
                              <li><a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=948">Michael Mackus (MMack)</a> (2014-02-27)</li>
                              <li><a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=661">Konata Izumi (Kona-chan)</a> (2012-08-18)</li>
                            </ul>
          </div>
                              </td>
        </tr>
        <tr>
		  <th id="private">Private</th>
		  <td headers="private">
                        No            
                      </td>
        </tr>
        	 </table>
  </div>

  </td><td>

  <div id="taskdetailsfull">
	 <h3 class="taskdesc">Details</h3>
     <div id="taskdetailstext">I expirience this with Steam and Origin running on Wine. Their main windows and popup menus often start running towards the right down corner of the screen. The main window does it when you move the cursor over and out of it so it may be related to the focus. Tray popup menu very often quickly moves without any user interaction so one should wait until it stops somewhere on the screen.</div>

       
  </div>

  </td></tr></table>

  <div id="taskinfo">
	 <div id="taskdeps">
		<b>This task depends upon</b>
		<br />
		
		<br class="DoNotPrint" />

		
			 </div>

	 <div id="taskblocks">
        			 </div>
  </div>

  
  <div id="actionbuttons">
	 
	 
	 
	 
	 
	 	   </div>
</div>
<ul id="submenu">
    <li id="commentstab">
  <a href="#comments">Comments (16)</a>
  </li>
  
  <li id="relatedtab">
  <a href="#related">Related Tasks (0/0)</a>
  </li>

  
  </ul>
<div id="comments" class="tab">
    <em>
    <a name="comment3137" id="comment3137"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3137">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=660">eurekafag (eurekafag)</a> -
    Saturday, 18 August 2012, 15:28 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">Ok, that helped. I added this to rc.lua:<br />
 { rule = { class = &quot;Wine&quot; },<br />
      properties = { border_width = 0, floating = true } },<br />
<br />
Now it doesn&#039;t run away but either way they claim it&#039;s the bug in Awesome:<a href=" http://bugs.winehq.org/show_bug.cgi?id=20646"> http://bugs.winehq.org/show_bug.cgi?id=20646</a> Thanks, but fixing this bug would be good anyway. The same behavior was confirmed on DWM and it may be related to some common borders implementation.</div></div>

  
    <em>
    <a name="comment3138" id="comment3138"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3138">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a> -
    Saturday, 18 August 2012, 15:39 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">Meh. I really do not want to dive into wine-land. However, if everyone is doing finger-pointing, that doesn&#039;t help anyone.<br />
<br />
Wine bug 12431 talks about broken WMs which report the wrong position in ConfigureNotify events. That seems unlikely for awesome 3.4 because 3.4 is non-reparenting. Still, window_configure() could be using wrong values. I guess someone should (me? meh...) should read ICCCM carefully and compare the values from synthetic ConfigureNotifies to the real ones.<br />
That bug also mentions window gravities. There could be a bug with those here.<br />
<br />
I&#039;d also like to talk to some wine-guys about this. Best would be someone who can point fingers at what exactly is done wrong to cause this...</div></div>

  
    <em>
    <a name="comment3175" id="comment3175"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3175">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=741">Tim Roes (timroes)</a> -
    Tuesday, 18 September 2012, 10:08 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">I can confirm that behavior in awesome v3.4.11. I think this should be fixed in awesome, because I have exactly the same behavior with FreeRDP (http://www.freerdp.com). So it doesn&#039;t (only) seem to be a bug in wine. I can also confirm, that putting border_with to 0 fixes the bug for wine and FreeRDP.</div></div>

  
    <em>
    <a name="comment3176" id="comment3176"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3176">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a> -
    Tuesday, 18 September 2012, 18:22 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">I was convinced that awesome is doing the wrong thing. The synthetic configure notify shouldn&#039;t contain the coordinates of the outer top-left corner of the window (outside of the border), but of the top-left corner of the paintable area of the window (inside of the border). Attach test program figured this out for me (awesome does different stuff than unity).</div></div>

      <div class="attachments">
          <a title="t.c" href="?getfile=533" >
                <img src="https://awesomewm.org/bugs/themes/Bluey/mime/text.png" alt="" title="text/x-c; charset=us-ascii" />
            &nbsp;&nbsp;
            t.c
                  </a>
                  (1.5 KiB)
          <br />
    </div>
  

    <em>
    <a name="comment3277" id="comment3277"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3277">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=764">Giacomo Ferrari (progman32)</a> -
    Sunday, 16 December 2012, 13:11 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">+1 repro for ViaCAD on wine. The problem seems to happen when dialogs overlap - toolbars will run away from each other until they no longer overlap, then they stop. Kinda funny actually :) I can confirm that the rule hack above seems to work around the problem.</div></div>

  
    <em>
    <a name="comment3278" id="comment3278"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3278">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a> -
    Sunday, 16 December 2012, 16:31 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">Could someone test if the attached patch (which is for git/master and 3.5) helps?</div></div>

      <div class="attachments">
          <a title="fix_configurenotify.patch" href="?getfile=553" >
                <img src="https://awesomewm.org/bugs/themes/Bluey/mime/text.png" alt="" title="text/x-diff; charset=us-ascii" />
            &nbsp;&nbsp;
            fix_configurenotify.patch
                  </a>
                  (0.6 KiB)
          <br />
    </div>
  

    <em>
    <a name="comment3758" id="comment3758"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3758">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=922">Kris Scott (syntobu)</a> -
    Monday, 25 November 2013, 12:56 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">I am having this problem as well in awesome 3.5.2. I tried a modified version of your old patch (attached) and the issue was not fixed.</div></div>

      <div class="attachments">
          <a title="fix_configurenotify.patch" href="?getfile=654" >
                <img src="https://awesomewm.org/bugs/themes/Bluey/mime/text.png" alt="" title="text/x-diff; charset=us-ascii" />
            &nbsp;&nbsp;
            fix_configurenotify.patch
                  </a>
                  (0.6 KiB)
          <br />
    </div>
  

    <em>
    <a name="comment3826" id="comment3826"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3826">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=948">Michael Mackus (MMack)</a> -
    Thursday, 27 February 2014, 21:49 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">Confirmed issue in awesome v3.5.2 <br />
<br />
Assigning Wine class to floating fixed it for me, but I think this is still an issue with Awesome. Just glad to have it working.</div></div>

  
    <em>
    <a name="comment3827" id="comment3827"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment3827">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a> -
    Friday, 28 February 2014, 12:12 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">&gt; Assigning Wine class to floating fixed it for me, <br />
<br />
What does that mean?</div></div>

  
    <em>
    <a name="comment4106" id="comment4106"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4106">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=494">Daniel Hahler (blueyed)</a> -
    Tuesday, 08 July 2014, 10:54 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">The issue can be easily reproduced using HeidiSQL:<a href=" http://www.heidisql.com/download.php"> http://www.heidisql.com/download.php</a><br />
<br />
When starting the program, there is a &quot;Session manager&quot; dialog.<br />
<br />
It moves down and right on every keypress. With the titlebar enabled, the offset is larger (probably the height of titlebar plus border).<br />
With the titlebar not being displayed, the offset appears to be the size of the borders.<br />
<br />
The patch does not help.<br />
<br />
xprop:<br />
<br />
	awful.client.property.floating(CARDINAL) = 1<br />
	_NET_WM_DESKTOP(CARDINAL) = 0<br />
	WM_STATE(WM_STATE):<br />
			window state: Normal<br />
			icon window: 0x0<br />
	_NET_WM_STATE(ATOM) = _NET_WM_STATE_SKIP_TASKBAR<br />
	_NET_WM_ICON(CARDINAL) = 	Icon (32 x 32):<br />
	[…]<br />
	_NET_WM_NAME(UTF8_STRING) = &quot;Session manager&quot;<br />
	WM_ICON_NAME(STRING) = &quot;Session manager&quot;<br />
	WM_NAME(STRING) = &quot;Session manager&quot;<br />
	WM_HINTS(WM_HINTS):<br />
			Client accepts input or input focus: False<br />
			Initial state is Normal State.<br />
			bitmap id # to use for icon: 0x4a009e2<br />
			bitmap id # of mask for icon: 0x4a009e4<br />
			window id # of group leader: 0x4c00005<br />
	_NET_WM_WINDOW_TYPE(ATOM) = _NET_WM_WINDOW_TYPE_NORMAL<br />
	WM_TRANSIENT_FOR(WINDOW): window id # 0x4c00005<br />
	_MOTIF_WM_HINTS(_MOTIF_WM_HINTS) = 0x3, 0x26, 0x1e, 0x1012a, 0x22f7b0<br />
	WM_NORMAL_HINTS(WM_SIZE_HINTS):<br />
			program specified location: 390, 173<br />
			window gravity: Static<br />
	_NET_WM_USER_TIME_WINDOW(WINDOW): window id # 0x4a00030<br />
	XdndAware(ATOM) = ATOM<br />
	_NET_WM_PID(CARDINAL) = 31247<br />
	WM_LOCALE_NAME(STRING) = &quot;en_US.UTF-8&quot;<br />
	WM_CLIENT_MACHINE(STRING) = &quot;...&quot;<br />
	WM_CLASS(STRING) = &quot;heidisql.exe&quot;, &quot;Wine&quot;<br />
	WM_PROTOCOLS(ATOM): protocols  WM_DELETE_WINDOW, _NET_WM_PING, WM_TAKE_FOCUS<br />
<br />
The window is floating by default, and toggling the floating state won&#039;t change the taskbar entry&#039;s floating indicator, but when the floating state is disabled the automatic resizing does not occur.<br />
This (and the other issue) might be related to the programs handling of its main window with regard to the session manager dialog at startup.</div></div>

  
    <em>
    <a name="comment4187" id="comment4187"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4187">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=494">Daniel Hahler (blueyed)</a> -
    Saturday, 08 November 2014, 00:29 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">I can reproduce this issue using urxvt (rxvt-unicode) and the following escape sequence:<br />
<br />
   printf &#039;\033]710;xft:monospace:size=10\033\&#039;<br />
<br />
This sets the new font. So on first invocation the floating window will change altogether, but when called again, it moves down and right by one pixel.</div></div>

  
    <em>
    <a name="comment4188" id="comment4188"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4188">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=494">Daniel Hahler (blueyed)</a> -
    Saturday, 08 November 2014, 00:33 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">This is related to the border width. Using 0 instead of 1 does not trigger it.<br />
<br />
I am applying the client.border_width via:<br />
<br />
    for s = 1, screen.count() do screen[s]:connect_signal(&quot;arrange&quot;, function ()<br />
      ...<br />
      c.border_width = beautiful.border_width<br /></div></div>

  
    <em>
    <a name="comment4198" id="comment4198"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4198">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=289">Uli Schlachter (psychon)</a> -
    Friday, 05 December 2014, 17:44 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">This really should be fixed with the following commit, but blueyed claims it isn&#039;t for him. Here my urxvt no longer moves around, while for him it still does. At least wine seems to be fixed. Weird...<br />
<br />
What do other say? Can this bug be closed?<br />
<br />
commit f0ab2aebebfaa391de3efdc9598e5fb23a52e483<br />
Author: Uli Schlachter &lt;<a href="mailto:psychon@znc.in">psychon@znc.in</a>&gt;<br />
Date:   Fri Dec 5 18:40:06 2014 +0100<br />
<br />
    Don&#039;t move clients on ConfigureRequests (<a href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030&amp;project=1&amp;pagenum=6" title="Unconfirmed | Wine floating windows move to the right&amp;down by themselves | 0%" >FS#1030</a>)<br />
    <br />
    I never saw a single program that set a border on its own windows. However,<br />
    awesome commonly sets borders on its clients and the position of a client is the<br />
    part outside of the border. So when processing a position request from a client,<br />
    we also have to include this border and fix things up correspondingly.<br />
    <br />
    However, the same isn&#039;t needed for the client size, because the size does not<br />
    include the borders, but just the titlebar plus the &quot;real&quot; client content.<br />
    <br />
    Thanks to Daniel Hahler for providing a simple test case based on urxvt for<br />
    debugging this!<br />
    <br />
    Signed-off-by: Uli Schlachter &lt;<a href="mailto:psychon@znc.in">psychon@znc.in</a>&gt;</div></div>

  
    <em>
    <a name="comment4205" id="comment4205"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4205">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=1020">odin (odinreese)</a> -
    Saturday, 27 December 2014, 00:11 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">I was having the same problem. Window sliding down and to the right.<br />
This fix did not work for me either:<br />
<br />
    { rule = { class = &quot;Wine&quot; },<br />
    properties = { border_width = 0, floating = true } },<br />
<br />
After trying this, I checked my theme.lua and there is an option theme.border_width = 1, changed this to:<br />
<br />
     theme.border_width = 0<br />
<br />
in rc.lua I still added:<br />
    <br />
   { rule = { class = &quot;Wine&quot; },<br />
   properties = { floating = true } }, <br />
<br />
problem seems to be fixed for now. <br />
<br />
In my rc.lua my rules are as follows:<br />
...<br />
  awful.rules.rules = {<br />
      -- All clients will match this rule.<br />
      { rule = { },<br />
        properties = { border_width = beautiful.border_width, <br />
...<br />
...<br />
<br />
As I understand it, you cannot set border_width to 0 since it is being initialized by beautiful&#039;s border_width. <br />
Since beautiful is the themeing library, I checked the script controling the theme via theme.lua and made the changes as previously stated.<br />
<br />
Although in the sample rc.lua linked below, when I enabled the titlebars the problem persisted. <br />
...<br />
   local titlebars_enabled = true<br />
   if titlebars_enabled and (c.type == &quot;normal&quot; or c.type == &quot;dialog&quot;) then<br />
...<br />
... <br />
<br />
This is a sample of the rc.lua I am running:<a href=" https://github.com/copycat-killer/awesome-copycats/blob/master/rc.lua.steamburn"> https://github.com/copycat-killer/awesome-copycats/blob/master/rc.lua.steamburn</a><br />
This is a sample of the theme.lua I am running:<a href=" https://github.com/copycat-killer/awesome-copycats/blob/master/themes/steamburn/theme.lua"> https://github.com/copycat-killer/awesome-copycats/blob/master/themes/steamburn/theme.lua</a><br />
And theme wiki:<a href=" https://github.com/copycat-killer/awesome-copycats"> https://github.com/copycat-killer/awesome-copycats</a><br />
<br />
I know this doesn&#039;t have to with the theme but as awesome is handling the windows, but just gave the links to have a visual representation. <br />
------------------------------------------<br />
<br />
AwesomeWM v3.5.5<br />
ArchLinux x86_64<br /></div></div>

  
    <em>
    <a name="comment4206" id="comment4206"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4206">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=1020">odin (odinreese)</a> -
    Saturday, 27 December 2014, 02:02 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">After testing there is no need to add:<br />
<br />
{ rule = { class = &quot;Wine&quot; },<br />
properties = { floating = true } }, <br />
<br />
to rc.lua after making the change to theme.lua. If this is added the applications are not rendered correctly in fullscreen.<br /></div></div>

  
    <em>
    <a name="comment4207" id="comment4207"
      href="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#comment4207">
      <img src="https://awesomewm.org/bugs/themes/Bluey/comment.png"
        title="Link to this comment" alt="" />
    </a>
    Comment by <a href="https://awesomewm.org/bugs/index.php?do=user&amp;area=users&amp;id=494">Daniel Hahler (blueyed)</a> -
    Friday, 02 January 2015, 15:28 GMT   </em>

  <span class="DoNotPrint">
    
      </span>
  <div class="comment">
    <div class="commenttext">For the record, commit f0ab2aeb fixed it for me (in contrast to what Uli said in an earlier comment).<br />
<br />
@odin: have you tried the above commit/patch, or are your comments based on Awesome 3.5.5?</div></div>

  
  
  </div>
<div id="related" class="tab">
  <table>    <tr><td>
    <form method="post" action="https://awesomewm.org/bugs/index.php?do=details&amp;task_id=1030#related" >
        <table id="tasks_related" class="userlist">
        <tr>
          <th>
            <a href="javascript:ToggleSelected('tasks_related')">
              <img title="Toggle Selected" alt="Toggle Selected" src="https://awesomewm.org/bugs/themes/Bluey/kaboodleloop.png" width="16" height="16" />
            </a>
          </th>
          <th>Tasks related to this task (0)</th>
        </tr>
                <tr>
          <td colspan="2">
            <input type="hidden" name="action" value="remove_related" />
            <input type="hidden" name="task_id" value="1030" />
            <button type="submit">Remove</button>
          </td>
        </tr>
        </table>
    </form>
    </td><td>
    
    <table id="duplicate_tasks" class="userlist">
        <tr>
          <th>Duplicate tasks of this task (0)</th>
        </tr>
            </table>
    </td></tr>
  </table>

  </div>
<div id="history" class="tab">
  <h3>Loading...</h3>
</div>
    </div>
    <p id="footer">
       <!-- Please don't remove this line - it helps promote Flyspray -->
       <a href="http://flyspray.org/" class="offsite">Powered by Flyspray</a>
    </p>
  </div>
  </body>
</html>
