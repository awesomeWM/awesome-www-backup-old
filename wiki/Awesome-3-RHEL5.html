<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Awesome-3-RHEL5 - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Awesome-3-RHEL5&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Awesome-3-RHEL5&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Awesome-3-RHEL5" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Awesome-3-RHEL5","wgTitle":"Awesome-3-RHEL5","wgCurRevisionId":5773,"wgRevisionId":5773,"wgArticleId":613,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Awesome-3-RHEL5","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Awesome-3-RHEL5 skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Awesome-3-RHEL5</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p>Building Awesome 3 on Red Hat Enterprise Linux 5 is a lot of work: almost the entire X client library has to be rebuilt to get the new and shiny features that Awesome wants.  This script does the job (for the specific versions of each component listed), and builds everything in a local prefix, assuming that you don't have root access.
</p><p><br />
</p>
<pre> #!/bin/bash
 
 # Building awesome.
 #
 # References:
 #   <a rel="nofollow" class="external free" href="http://awesome.naquadah.org/wiki/Awesome-3-RHEL6">http://awesome.naquadah.org/wiki/Awesome-3-RHEL6</a>
 #       Build instructions for RHEL6; not quite complete for RHEL5!
 #
 #   <a rel="nofollow" class="external free" href="http://www.freedesktop.org/wiki/Software">http://www.freedesktop.org/wiki/Software</a>
 
 PREFIX="$(cd "$(dirname "$0")"; pwd)"
 
 extract_cd()
 {
     cd "$PREFIX/src"  &amp;&amp;
     case "$1" in
     *.tar.gz)   app_name="${1%.tar.gz}";    x=x&#160;;;
     *.tar.bz2)  app_name="${1%.tar.bz2}";   x=j&#160;;;
     $)          echo &gt;&amp;2 Whoops&#160;;;
     esac  &amp;&amp;
     tar x${x}f "$PREFIX/tars/$1"  &amp;&amp;
     cd "$app_name"
 }
 
 install_pc()
 {
     sed "/^prefix[ \t]*=/s:=.*$:=$PREFIX:" \
         &lt;"$1" &gt;"$PKG_CONFIG_PATH/$2"
 }
 
 configure_build()
 {
     ./configure --prefix="$PREFIX" $1  &amp;&amp;
     make  &amp;&amp;
     make install
 }
 
 build()
 {
     extract_cd "$1"  &amp;&amp;
     configure_build $2
 }
 
 build_lua()
 {
     extract_cd "$1"  &amp;&amp;
     patch -p1 &lt;"$PREFIX/tars/lua.patch"  &amp;&amp;
     make linux  &amp;&amp;
     make install INSTALL_TOP="$PREFIX"  &amp;&amp;
     install_pc etc/lua.pc lua5.1.pc
 }
 
 build_awesome()
 {
     extract_cd "$1"  &amp;&amp;
     mkdir .build  &amp;&amp;
     cd .build  &amp;&amp;
     cmake -DCMAKE_INSTALL_PREFIX="$PREFIX" . ..  &amp;&amp;
     make  &amp;&amp;
     make install
 }
 
 
 export PKG_CONFIG_PATH="$PREFIX/lib/pkgconfig"  &amp;&amp;
 mkdir -p "$PKG_CONFIG_PATH" "$PREFIX/src"  &amp;&amp;
 PATH="$PREFIX/bin:$PATH"  &amp;&amp;
 
 build gperf-3.0.4.tar.gz  &amp;&amp;
 build imlib2-1.4.4.tar.gz  &amp;&amp;
 build libev-4.01.tar.gz  &amp;&amp;
 install_pc "$PREFIX/tars/ev.pc" ev.pc  &amp;&amp;
 build libpthread-stubs-0.3.tar.gz  &amp;&amp;
 build xproto-7.0.20.tar.gz  &amp;&amp;
 build xcb-proto-1.6.tar.gz  &amp;&amp;
 build libxcb-1.7.tar.gz  &amp;&amp;
 build xcb-util-0.3.6.tar.gz  &amp;&amp;
 build libxdg-basedir-1.1.1.tar.gz  &amp;&amp;
 build pixman-0.21.2.tar.gz  &amp;&amp;
 build startup-notification-0.10.tar.gz  &amp;&amp;
 
 build freetype-2.4.4.tar.gz  &amp;&amp;
 build fontconfig-2.8.0.tar.gz  &amp;&amp;
 build gettext-0.18.1.1.tar.gz  &amp;&amp;
 build glib-2.26.1.tar.gz  &amp;&amp;
 build cairo-1.8.10.tar.gz --enable-xcb  &amp;&amp;
 build pango-1.28.3.tar.gz  &amp;&amp;
 
 build_lua lua-5.1.4.tar.gz  &amp;&amp;
 
 build_awesome awesome-3.4.8.tar.bz2
</pre>
<p><br />
This script should be placed in the prefix directory, and all the source tar files placed in a tars subdirectory. Running this script requires CMake 2.8.x (the default on RHEL5 is 2.6.x) to compile awesome-3.8.4, without which it will fail with the following message:
</p>
<pre> CMake Error at CMakeLists.txt:284 (file):
   file does not recognize sub-command COPY
</pre>
<p>You can obtain a CMake RPM for your RHEL from here: <a rel="nofollow" class="external text" href="http://pkgs.repoforge.org/cmake/">CMake on RepoForge</a>
</p><p>In this same directory place the following two patch files:
</p><p>tars/ev.pc:
</p>
<pre> prefix=/scratch/awesome
 exec_prefix=${prefix}
 libdir=${exec_prefix}/lib
 includedir=${prefix}/include
 
 Name: ve
 Description: Event loop library
 Version: 4.01
 Libs: -L${libdir} -lev
 Cflags: -I${includedir}
 
</pre>
<p>tars/lua.patch:
</p>
<pre> diff -ur lua-5.1.4/Makefile lua-5.1.4-patched/Makefile
 --- lua-5.1.4/Makefile	2008-08-12 01:40:48.000000000 +0100
 +++ lua-5.1.4-patched/Makefile	2010-12-10 17:23:46.000000000 +0000
 @@ -43,7 +43,7 @@
  # What to install.
  TO_BIN= lua luac
  TO_INC= lua.h luaconf.h lualib.h lauxlib.h ../etc/lua.hpp
 -TO_LIB= liblua.a
 +TO_LIB= liblua.a liblua.so
  TO_MAN= lua.1 luac.1
  
  # Lua version and release.
 diff -ur lua-5.1.4/src/Makefile lua-5.1.4-patched/src/Makefile
 --- lua-5.1.4/src/Makefile	2008-01-19 19:37:58.000000000 +0000
 +++ lua-5.1.4-patched/src/Makefile	2010-12-10 17:32:04.000000000 +0000
 @@ -8,7 +8,7 @@
  PLAT= none
  
  CC= gcc
 -CFLAGS= -O2 -Wall $(MYCFLAGS)
 +CFLAGS= -O2 -Wall $(MYCFLAGS) -fPIC
  AR= ar rcu
  RANLIB= ranlib
  RM= rm -f
 @@ -28,6 +28,7 @@
  	lundump.o lvm.o lzio.o
  LIB_O=	lauxlib.o lbaselib.o ldblib.o liolib.o lmathlib.o loslib.o ltablib.o \
  	lstrlib.o loadlib.o linit.o
 +LUA_SO = liblua.so
  
  LUA_T=	lua
  LUA_O=	lua.o
 @@ -36,7 +37,7 @@
  LUAC_O=	luac.o print.o
  
  ALL_O= $(CORE_O) $(LIB_O) $(LUA_O) $(LUAC_O)
 -ALL_T= $(LUA_A) $(LUA_T) $(LUAC_T)
 +ALL_T= $(LUA_A) $(LUA_T) $(LUAC_T) $(LUA_SO)
  ALL_A= $(LUA_A)
  
  default: $(PLAT)
 @@ -57,6 +58,9 @@
  $(LUAC_T): $(LUAC_O) $(LUA_A)
  	$(CC) -o $@ $(MYLDFLAGS) $(LUAC_O) $(LUA_A) $(LIBS)
  
 +$(LUA_SO): $(CORE_O) $(LIB_O)
 +	$(CC) -o $@ -shared $?
 +
  clean:
  	$(RM) $(ALL_T) $(ALL_O)
</pre>
<!-- 
NewPP limit report
CPU time usage: 0.012 seconds
Real time usage: 0.015 seconds
Preprocessor visited node count: 1/1000000
Preprocessor generated node count: 4/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 1/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:613-0!*!*!*!*!*!* and timestamp 20160514224829 and revision id 5773
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Awesome-3-RHEL5&amp;oldid=5773">https://awesomewm.org/w/index.php?title=Awesome-3-RHEL5&amp;oldid=5773</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Awesome-3-RHEL5" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Awesome-3-RHEL5&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Awesome-3-RHEL5&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Awesome-3-RHEL5&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Awesome-3-RHEL5" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Awesome-3-RHEL5" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Awesome-3-RHEL5" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=Awesome-3-RHEL5&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Awesome-3-RHEL5&amp;oldid=5773" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Awesome-3-RHEL5&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 29 January 2013, at 09:55.</li>
									<li id="viewcount">This page has been accessed 4,335 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":105});
}</script></body></html>