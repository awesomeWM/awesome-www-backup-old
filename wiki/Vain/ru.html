<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Vain - альтернативные схемы - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Vain/ru&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Vain/ru&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Vain/ru" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Vain/ru","wgTitle":"Vain/ru","wgCurRevisionId":6775,"wgRevisionId":6775,"wgArticleId":1118,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Vain/ru","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Vain_ru skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Vain - альтернативные схемы</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><p><br />
На сегодняшний день существует 2 версии Vain.
</p>
<ul><li> версия для Awesome &lt;= 3.4 <a rel="nofollow" class="external free" href="https://github.com/vain/awesome-vain">https://github.com/vain/awesome-vain</a></li>
<li> версия для Awesome 3.5 <a rel="nofollow" class="external free" href="https://github.com/copycat-killer/vain-again">https://github.com/copycat-killer/vain-again</a></li></ul>
<p>Версия для 3.5 является портом от copycat-killer, так как автор пользуется 3.4 и пока не произвел обновления.(я думаю, теперь уже и не будет).
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Vain"><span class="tocnumber">1</span> <span class="toctext">Установка Vain</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5"><span class="tocnumber">2</span> <span class="toctext">Использование</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Layouts"><span class="tocnumber">3</span> <span class="toctext">Layouts</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#.D0.9A.D0.B0.D0.BA_.D0.B2.D0.BE.D0.BE.D0.B1.D1.89.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D1.8E.D1.82_layouts.3F"><span class="tocnumber">3.1</span> <span class="toctext">Как вообще работают layouts?</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#.D0.98.D0.BA.D0.BE.D0.BD.D0.BA.D0.B8"><span class="tocnumber">3.2</span> <span class="toctext">Иконки</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#.D0.9D.D0.BE.D0.B2.D1.8B.D0.B5_.D1.81.D1.85.D0.B5.D0.BC.D1.8B"><span class="tocnumber">3.3</span> <span class="toctext">Новые схемы</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="#termfair"><span class="tocnumber">3.3.1</span> <span class="toctext">termfair</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="#browse"><span class="tocnumber">3.3.2</span> <span class="toctext">browse</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="#gimp"><span class="tocnumber">3.3.3</span> <span class="toctext">gimp</span></a></li>
<li class="toclevel-3 tocsection-10"><a href="#cascade"><span class="tocnumber">3.3.4</span> <span class="toctext">cascade</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#cascadebrowse"><span class="tocnumber">3.3.5</span> <span class="toctext">cascadebrowse</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#uselessfair"><span class="tocnumber">3.3.6</span> <span class="toctext">uselessfair</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#centerwork"><span class="tocnumber">3.3.7</span> <span class="toctext">centerwork</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-14"><a href="#.D0.9F.D1.80.D0.BE.D0.BC.D0.B5.D0.B6.D1.83.D1.82.D0.BA.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.BE.D0.BA.D0.BD.D0.B0.D0.BC.D0.B8"><span class="tocnumber">3.4</span> <span class="toctext">Промежутки между окнами</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#.D0.92.D0.B8.D0.B4.D0.B6.D0.B5.D1.82.D1.8B"><span class="tocnumber">4</span> <span class="toctext">Виджеты</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#systemload"><span class="tocnumber">4.1</span> <span class="toctext">systemload</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#cpuusage"><span class="tocnumber">4.2</span> <span class="toctext">cpuusage</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#memusage"><span class="tocnumber">4.3</span> <span class="toctext">memusage</span></a></li>
<li class="toclevel-2 tocsection-19"><a href="#mailcheck"><span class="tocnumber">4.4</span> <span class="toctext">mailcheck</span></a></li>
<li class="toclevel-2 tocsection-20"><a href="#battery"><span class="tocnumber">4.5</span> <span class="toctext">battery</span></a></li>
<li class="toclevel-2 tocsection-21"><a href="#volume"><span class="tocnumber">4.6</span> <span class="toctext">volume</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="#mpd"><span class="tocnumber">4.7</span> <span class="toctext">mpd</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="#net"><span class="tocnumber">4.8</span> <span class="toctext">net</span></a></li>
<li class="toclevel-2 tocsection-24"><a href="#gitodo"><span class="tocnumber">4.9</span> <span class="toctext">gitodo</span></a></li>
<li class="toclevel-2 tocsection-25"><a href="#borderbox"><span class="tocnumber">4.10</span> <span class="toctext">borderbox</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-26"><a href="#.D0.A1.D0.BB.D1.83.D0.B6.D0.B5.D0.B1.D0.BD.D1.8B.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8"><span class="tocnumber">5</span> <span class="toctext">Служебные функции</span></a>
<ul>
<li class="toclevel-2 tocsection-27"><a href="#menu_clients_current_tags"><span class="tocnumber">5.1</span> <span class="toctext">menu_clients_current_tags</span></a></li>
<li class="toclevel-2 tocsection-28"><a href="#magnify_client"><span class="tocnumber">5.2</span> <span class="toctext">magnify_client</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-29"><a href="#.D0.A6.D0.B2.D0.B5.D1.82_.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B_.D0.BE.D0.BA.D0.BE.D0.BD_.D0.B2_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8_.D0.BE.D1.82_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8.D0.BE.D1.80.D0.B8.D1.82.D0.B5.D1.82.D0.B0"><span class="tocnumber">6</span> <span class="toctext">Цвет границы окон в зависимости от значения приоритета</span></a></li>
<li class="toclevel-1 tocsection-30"><a href="#tag_view.7Bnext.2Cprev.7D_nonempty"><span class="tocnumber">7</span> <span class="toctext">tag_view{next,prev}_nonempty</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.A3.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BA.D0.B0_Vain">Установка Vain</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=1" title="Edit section: Установка Vain">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Awesome 3.4
</p>
<pre> git clone <a rel="nofollow" class="external free" href="https://github.com/vain/awesome-vain.git">https://github.com/vain/awesome-vain.git</a> ~/.config/awesome/vain
</pre>
<p>Awesome 3.5
</p>
<pre> git clone <a rel="nofollow" class="external free" href="https://github.com/copycat-killer/vain-again.git">https://github.com/copycat-killer/vain-again.git</a> ~/.config/awesome/vain
</pre>
<h2><span class="mw-headline" id=".D0.98.D1.81.D0.BF.D0.BE.D0.BB.D1.8C.D0.B7.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5">Использование</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=2" title="Edit section: Использование">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>В принципе, все, что вам нужно сделать это подключить модуль:
</p>
<pre>
require(&quot;vain&quot;)
vain.widgets.terminal = &quot;xterm&quot;
</pre>
<p>Некоторым виджетам в Vain необходим терминал, поэтому вам необходимо настроить эту возможность. Вызов терминала может быть функцией Lua, которая принимает один параметр. Что то похожее на: 
</p>
<pre>
function footerm(cmd)
    awful.util.spawn(&quot;xterm -e &quot; .. cmd)
end

vain.widgets.terminal = footerm
</pre>
<p>Хотя это вариант довольно бесполезен, но вы можете придумать что то лучшее.
</p><p>Каталог vain должен находится в том же месте, что и ваш файл rc.lua
</p>
<pre>
$ pwd
/home/void/.config/awesome
$ tree -l
.
|-- rc.lua
|-- themes -&gt; ../.awesome-themes/
|   |-- ...
|   `-- ...
`-- vain -&gt; ../.awesome-vain/vain
    |-- init.lua
    |-- layout
    |   |-- browse.lua
    |   |-- gimp.lua
    |   |-- init.lua
    |   |-- termfair.lua
    |   `-- uselessfair.lua
    |-- util.lua
    `-- widgets.lua
</pre>
<h2><span class="mw-headline" id="Layouts">Layouts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=3" title="Edit section: Layouts">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id=".D0.9A.D0.B0.D0.BA_.D0.B2.D0.BE.D0.BE.D0.B1.D1.89.D0.B5_.D1.80.D0.B0.D0.B1.D0.BE.D1.82.D0.B0.D1.8E.D1.82_layouts.3F">Как вообще работают layouts?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=4" title="Edit section: Как вообще работают layouts?">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>"layout" это просто таблица lua или модуль, которая имеет название и вызываемую функцию arrange(). Таким образом, самый простой layout может выглядеть следующим образом:
</p>
<pre>
mylayout = {}
mylayout.name = &quot;hurz&quot;
mylayout.arrange = function(p) end
</pre>
<p>Для использования этого layout в теге, вам необходимо написать:
</p>
<pre>
awful.layout.set(mylayout, tags[1][7])
</pre>
<p>(Конечно, вы можете просто добавить его в стандартную таблицу layouts.)
</p><p>Теперь функция arrange принимает параметр 'p', который является другой таблицей. Наиболее важными элементами этой таблицы являются workarea и clients. Вот как может выглядеть таблица 'p':
</p>
<pre>
p = {
    workarea = { x, y, width, height },
    clients = { ... },
    ...
}
</pre>
<p>Задачей функции arrange является перебор всех клиентов и установка их геометрии. То есть, для каждого клиента вы вызываете установщик geometry:
</p>
<pre>
mylayout.arrange = arrange(p)

    local wa = p.workarea
    local cls = p.clients

    for k, c in ipairs(cls)
    do
        local g = {}

        g.width = ...
        g.height = ...
        g.x = wa.x + ...
        g.y = wa.y + ...

        c:geometry(g)
    end
end
</pre>
<p>Это все! А обработчик Awesome берет на себя всю остальную (трудоемкую) работу, вроде сворачивания клиента, плавающего режима клиента, порядка расположения клиентов, фокус, отрисовка границ окна, и т.д.
</p>
<h3><span class="mw-headline" id=".D0.98.D0.BA.D0.BE.D0.BD.D0.BA.D0.B8">Иконки</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=5" title="Edit section: Иконки">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Благодарю Nicolas Estibals (<a rel="nofollow" class="external free" href="https://github.com/nestibal">https://github.com/nestibal</a>) за создание иконок для стандартной темы Awesome!
</p><p>Вам необходимо расширить ваш theme.lua следующим образом. Для этого создайте файл, и предположим назовите его ~/.config/awesome/extended_default_theme.lua):
</p>
<pre>
dofile(&quot;/usr/share/awesome/themes/default/theme.lua&quot;)   --здесь мы добавляем данные из стандартной темы
...
theme.layout_termfair      = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/termfairw.png&quot;
theme.layout_browse        = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/browsew.png&quot;
theme.layout_gimp          = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/gimpw.png&quot;
theme.layout_cascade       = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/cascadew.png&quot;
theme.layout_cascadebrowse = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/cascadebrowsew.png&quot;
theme.layout_centerwork    = os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/vain/themes/default/layouts/centerworkw.png&quot;
...
return theme
</pre>
<p>Лучше использовать отдельный файл для расширенных layout, т.к. если в дальнейшем вы удалите vain, или что то еще поменяете, то сложно будет вернуть все назад. Затем, необходимо настроить beautiful для использования этой, расширенной темы:
</p>
<pre>
beautiful.init(os.getenv(&quot;HOME&quot;) .. &quot;/.config/awesome/extended_default_theme.lua&quot;)
</pre>
<p>Иконки для стандартной темы доступны в двух цветах: белом и черном. Также доступны иконки для темы "zenburn" theme.
</p>
<h3><span class="mw-headline" id=".D0.9D.D0.BE.D0.B2.D1.8B.D0.B5_.D1.81.D1.85.D0.B5.D0.BC.D1.8B">Новые схемы</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=6" title="Edit section: Новые схемы">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Скриншоты схем вы можете найти на странице <a rel="nofollow" class="external free" href="http://www.uninformativ.de/projects/?q=awesome-vain">http://www.uninformativ.de/projects/?q=awesome-vain</a>
</p>
<h4><span class="mw-headline" id="termfair">termfair</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=7" title="Edit section: termfair">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Я очень много работаю в терминале. Стандартные тайлинговые алгоритмы обычно разворачивают окно на весь экран, так, что вы получаете терминал с количеством столбцов около 200 или даже более. Это слишком много. Вы пробовали читать страницы руководства(manpage) в терминале такого размера?
</p><p>Данный layout ограничивает размер каждого окна. Каждое окно будет иметь одинаковую ширину, но может изменяться по высоте. Кроме того, окна выровнены по левому краю. Основная рабочая схема следующая (число над экраном это число открытых окон, число в клетке, это фиксированный номер клиента):
</p>
<pre>
     (1)                (2)                (3)
+---+---+---+      +---+---+---+      +---+---+---+
|   |   |   |      |   |   |   |      |   |   |   |
| 1 |   |   |  -&gt;  | 2 | 1 |   |  -&gt;  | 3 | 2 | 1 |  -&gt;
|   |   |   |      |   |   |   |      |   |   |   |
+---+---+---+      +---+---+---+      +---+---+---+

     (4)                (5)                (6)
+---+---+---+      +---+---+---+      +---+---+---+
| 4 |   |   |      | 5 | 4 |   |      | 6 | 5 | 4 |
+---+---+---+  -&gt;  +---+---+---+  -&gt;  +---+---+---+
| 3 | 2 | 1 |      | 3 | 2 | 1 |      | 3 | 2 | 1 |
+---+---+---+      +---+---+---+      +---+---+---+
</pre>
<p>Первый клиент будет размещен в левом столбце. При открытии нового окна, это новое окно будет размещено в левом столбце, а предыдущее, первое окно будет перемещено в средний столбец. После заполнения ряда, новый ряд будет создан над ним.
</p><p>Число столбцов является фиксированным и управляется значением nmaster тега. Число рядов обычно меняется, но вы можете установить минимальное значение установив значение ncol тега.
</p><p>Следующие настройки устанавливают termfair layout на 7й тег 1го экрана, и устанавливают 3 столбца и как минимум 2 строки:
</p>
<pre>
awful.layout.set(vain.layout.termfair, tags[1][7])
awful.tag.setnmaster(3, tags[1][7])
awful.tag.setncol(2, tags[1][7])
</pre>
<h4><span class="mw-headline" id="browse">browse</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=8" title="Edit section: browse">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Очень широкое окно браузера может раздражать глаза. Некоторые страницы ограничивают ширину колонок, но многие этого не делают. Последние будут не очень хорошо восприниматься, так как ваши глаза постоянно будут бегать туда-сюда вдоль длинных строк.
</p><p>Схема 'browse' имеет фиксированное количество столбцов, где левый столбец предназначен для браузера. Его размер контролируется mwfact тега. Дополнительные окна будут открываться в другом столбце, справа от вашего браузера. Новые окна будут располагаться над старыми.
</p>
<pre>
    (1)              (2)              (3)              (4)
+-----+---+      +-----+---+      +-----+---+      +-----+---+
|     |   |      |     |   |      |     | 3 |      |     | 4 |
|     |   |      |     |   |      |     |   |      |     +---+
|  1  |   |  -&gt;  |  1  | 2 |  -&gt;  |  1  +---+  -&gt;  |  1  | 3 |
|     |   |      |     |   |      |     | 2 |      |     +---+
|     |   |      |     |   |      |     |   |      |     | 2 |
+-----+---+      +-----+---+      +-----+---+      +-----+---+
</pre>
<p>На своем ноутбуке, я размещаю правую колонку поверх(top) колонки браузера: Дополнительные окна в этом случае перекрывают окно браузера. Это необычно для тайлинговой схемы, но мне это необходимо: При серфинге в интернете, я часто открываю окно терминала (обычно на несколько минут, после чего закрываю их). Как правило, при изменении размера окна браузера, большинство браузеров "съезжают" с текущей позиции. Таким образом, мне приходилось бы прокручивать страницу, чтобы найти место, на котором я открыл терминал. А это раздражает.
</p><p>Будет ли вторичный столбец размещаться поверх окна браузера или нет, управляется значением ncol тега. Значение равное 1 означает, "перекрывание вторичным столбцом"(overlapping slave column), а все прочие значение означают "не перекрывать окна"(don't overlap windows).
</p><p>Таким образом, следующий код, установит схему <i>browse</i> в теге 7 экрана 1. Главный столбец будет иметь половину ширины экрана, а в другой половине будут размещаться вторичные окна.
</p>
<pre>
awful.layout.set(vain.layout.browse, tags[1][7])
awful.tag.setmwfact(0.5, tags[1][2])
awful.tag.setncol(1, tags[1][7])
vain.layout.browse.extra_padding = 5
</pre>
<p>extra_padding уменьшает размер главного окна, если активировано "overlapping slave column". Это позволяет вам видеть, если есть какие то окна во вторичном столбце.
</p>
<h4><span class="mw-headline" id="gimp">gimp</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=9" title="Edit section: gimp">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p><i>Обратите внимание: С версии Gimp 2.8, эта схема устарела и больше не поддерживается. Может быть она и будет работать, но я ее больше не использую.  В Gimp 2.8 есть "single window mode", который делает все что нужно.</i>
</p><p>Gimp это нечто особенное. Многие люди не используют Gimp, потому что в нем "слишком много окон". Используя специальную схему для Awesome, вы можете решить эту "проблему". (на самом деле я не считаю это проблемой.)
</p><p>В схема gimp используется один большой слот для окна изображения Gimp'а. Справа, одни слот для каждого toolbox или dock. Окнам не являющимся окнами Gimp устанавливается плавающий(floating) режим.
</p>
<pre>
+-------+---+---+
|       |   |   |
| Image | T | D |
|       |   |   |
+-------+---+---+
</pre>
<p>По умолчанию (т.е., если ncol = 1), при открытии еще одного изображения, его окно будет размещено поверх первого изображения, перекрывая его. Так обычно, вы видете только одно изображение, потому что работаете только ним. Вы можете использовать переключатель приложения или горячие клавиши, чтобы переключится на другое изображение (смотрите menu_clients_current_tags в секции "Utility functions").
</p><p>Иногда вам может понадобится получить лучшее представление от открытых изображениях. Установив значение ncol = 2, вы можете переключиться в "каскадный режим":
</p>
<pre>
+-------------+---+---+
|     +-----+ |   |   |
|     |     | |   |   |
|   +-| Img | |   |   |
|   | |     | |   |   |
| +-| +-----+ | T | D |
| | |     |   |   |   |
| | +-----+   |   |   |
| |     |     |   |   |
| +-----+     |   |   |
+-------------+---+---|
</pre>
<p>Вы можете управлять смещением каждого окна установив глобальную переменную vain.layout.gimp.cascade_offset. По умолчанию значение равно 16 пикселям.
</p><p>Если значение ncol равно 2, все изображения будут сложены в стопку в главном слоте:
</p>
<pre>
+-------+---+---+
| Image |   |   |
+-------+   |   |
| Image | T | D |
+-------+   |   |
| Image |   |   |
+-------+---+---+
</pre>
<p>Опять же,mwfact контролирует ширину главного слота. Следующий пример демонстрирует использование схемы 'gimp' в 7-м теге 1-го экрана, по умолчанию в  "stacking mode" и главным слотом имеющим ширину 75% от экрана:
</p>
<pre>
awful.layout.set(vain.layout.gimp, tags[1][7])
awful.tag.setmwfact(0.75, tags[1][2])
awful.tag.setncol(3, tags[1][7])
</pre>
<p>Однако, этого не достаточно. Стандатные правила(rules) в Awesome устанавливают плавающий режим(floating) для toolboxes и docks, так как они являются служебными окнами. Но: Схема не может управлять плавающими окнами. Так что вам понадобится установить rules которые устанавливают toolboxes обратно в нормальный режим. Вы должны добавить эти правила к вашему разделу rules:
</p>
<pre>
awful.rules.rules = awful.util.table.join(
    awful.rules.rules,
    vain.layout.gimp.rules
)
</pre>
<p>Вы также можете использовать свои собственные rules, например, чтобы перемещать окна Gimp на определенный тег.
</p>
<h4><span class="mw-headline" id="cascade">cascade</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=10" title="Edit section: cascade">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Размещает все окна каскадом (смотрит схему 'gimp' в теге.
</p><p>Вы можете управлять смещением изменяя значения двух переменных:
</p>
<pre>
vain.layout.cascade.cascade_offset_x = 64
vain.layout.cascade.cascade_offset_y = 16
</pre>
<p>Следующий пример резервирует место под 5 окон:
</p>
<pre>
awful.tag.setnmaster(5, tags[s][1])
</pre>
<p>До тех пор пока не будет создано 5 окон, их размеры не будут изменяться.
</p>
<h4><span class="mw-headline" id="cascadebrowse">cascadebrowse</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=11" title="Edit section: cascadebrowse">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Аналогично обычной схеме 'browse', однако, клиенты на вторичной колонке расположены каскадом. Таким образом используются аналогичные настройки:
</p>
<pre>
vain.layout.cascadebrowse.cascade_offset_x = 2
vain.layout.cascadebrowse.cascade_offset_y = 32
vain.layout.cascadebrowse.extra_padding = 5
awful.tag.setnmaster(5, tags[s][1])
awful.tag.setncol(1, tags[s][1])
</pre>
<p>Я рекомендую устанавливать cascade_offset_x на малое значение или даже 0, чтобы избежать потери места.
</p><p>Смотрите схему 'browse' для разъяснения значений extra_padding и ncol.
</p>
<h4><span class="mw-headline" id="uselessfair">uselessfair</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=12" title="Edit section: uselessfair">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Это схема является дубликатом стоковой схемы  <i>fair</i>. Но, дополнительно я добавил "бесполезные пробелы"(useless gaps) (подробнее смотри ниже) к этой схеме. Использование будет выглядеть следующим образом:
</p>
<pre>
awful.layout.set(vain.layout.uselessfair, tags[1][7])
</pre>
<h4><span class="mw-headline" id="centerwork">centerwork</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=13" title="Edit section: centerwork">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Вы начинаете с одним окном, расположенным по центру горизонтально:
</p>
<pre>
+--------------------------+
|       +----------+       |
|       |          |       |
|       |          |       |
|       |          |       |
|       |   MAIN   |       |
|       |          |       |
|       |          |       |
|       |          |       |
|       |          |       |
|       +----------+       |
+--------------------------+
</pre>
<p>Это главное рабочее окно. Большую часть работы вы делаете здесь. Иногда, вы можете открывать дополнительные окна. Они будут располагаться в следующих четырех слотах:
</p>
<pre>
+--------------------------+
| +---+ +----------+ +---+ |
| |   | |          | |   | |
| | 0 | |          | | 1 | |
| |   | |          | |   | |
| +---+ |   MAIN   | +---+ |
| +---+ |          | +---+ |
| |   | |          | |   | |
| | 2 | |          | | 3 | |
| |   | |          | |   | |
| +---+ +----------+ +---+ |
+--------------------------+
</pre>
<p>Да, число "четыре" фиксировано. В общей сложности, вы можете открыть пять окон с этой схемой. Дополнительные окна не поддерживаются и им устанавливается плавающий режим(floating). Это сделано намерено.
</p><p>Установите схему на одном из ваших тегов:
</p>
<pre>
awful.layout.set(vain.layout.centerwork, tags[s][t])
</pre>
<p>Вы можете определить порядок четырех дополнительных окон. Это стандартная конфигурация:
</p>
<pre>
vain.layout.centerwork.top_left = 0
vain.layout.centerwork.top_right = 1
vain.layout.centerwork.bottom_left = 2
vain.layout.centerwork.bottom_right = 3
</pre>
<p>Это означает: Нижний левый слот будет присвоен третьему окну (не считаю главного окна). Предположим, вы хотите, чтобы ваши окна располагались в следующем порядке:
</p>
<pre>
+--------------------------+
| +---+ +----------+ +---+ |
| |   | |          | |   | |
| | 3 | |          | | 0 | |
| |   | |          | |   | |
| +---+ |   MAIN   | +---+ |
| +---+ |          | +---+ |
| |   | |          | |   | |
| | 2 | |          | | 1 | |
| |   | |          | |   | |
| +---+ +----------+ +---+ |
+--------------------------+
</pre>
<p>Для этого вам потребуется использовать следующие настройки:
</p>
<pre>
vain.layout.centerwork.top_left = 3
vain.layout.centerwork.top_right = 0
vain.layout.centerwork.bottom_left = 2
vain.layout.centerwork.bottom_right = 1
</pre>
<p>Примечание: Если вы используете стандартую конфигурацию Awesome, навигация в этой схеме может быть весьма запутанной. Как перейти из главного окна на нижнее левое окно? Это зависит от порядка в котором эти окна были открыты! Таким образом, я предлагаю вам использовать функцию  awful.client.focus.bydirection():
</p>
<pre>
globalkeys = awful.util.table.join(
    awful.key({ modkey }, &quot;j&quot;,
        function()
            awful.client.focus.bydirection(&quot;down&quot;)
            if client.focus then client.focus:raise() end
        end),
    awful.key({ modkey }, &quot;k&quot;,
        function()
            awful.client.focus.bydirection(&quot;up&quot;)
            if client.focus then client.focus:raise() end
        end),
    awful.key({ modkey }, &quot;h&quot;,
        function()
            awful.client.focus.bydirection(&quot;left&quot;)
            if client.focus then client.focus:raise() end
        end),
    awful.key({ modkey }, &quot;l&quot;,
        function()
            awful.client.focus.bydirection(&quot;right&quot;)
            if client.focus then client.focus:raise() end
        end),
    -- ...
)
</pre>
<h3><span class="mw-headline" id=".D0.9F.D1.80.D0.BE.D0.BC.D0.B5.D0.B6.D1.83.D1.82.D0.BA.D0.B8_.D0.BC.D0.B5.D0.B6.D0.B4.D1.83_.D0.BE.D0.BA.D0.BD.D0.B0.D0.BC.D0.B8">Промежутки между окнами</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=14" title="Edit section: Промежутки между окнами">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>"Useless gaps" это промежуток между окнами. Они "бесполезны" потому что не имеют специального назначения, несмотря на улучшение обзора. Я обнаружил, что проще обнаружить границы окон, если они располагаются немного раздельно. 
</p><p>Схема <i>uselessfair</i> например, выглядит следующим образом:
</p>
<pre>
+================+
#                #
#  +---+  +---+  #
#  | 1 |  |   |  #
#  +---+  |   |  #
#         | 3 |  #
#  +---+  |   |  #
#  | 2 |  |   |  #
#  +---+  +---+  #
#                #
+================+
</pre>
<p>Все мои схемы поддерживают "useless gaps". Для настройки ширины разрывов, вам необходимо расширить вашу тему beautiful. Она должна содержать пункт под названием useless_gap_width в таблице темы. Если этот параметр отсутсвует, ширина по умолчиню становится равной 0.
</p>
<pre>
...
theme.useless_gap_width = &quot;5&quot;
...
</pre>
<h2><span class="mw-headline" id=".D0.92.D0.B8.D0.B4.D0.B6.D0.B5.D1.82.D1.8B">Виджеты</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=15" title="Edit section: Виджеты">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Каждая функция возвращает виджет, который может быть использован в wiboxes. Большинство виджетов периодически обновляются; смотри код, чтобы узнать значение таймера.
</p>
<h3><span class="mw-headline" id="systemload">systemload</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=16" title="Edit section: systemload">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Отображает текущий уровень нагрузки системы в textbox. Данные считываются непосредственно /proc/loadavg.
</p>
<pre>
mysysload = vain.widgets.systemload()
</pre>
<p>Нажатие на виджет откроет терминал с htop.
</p><p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout=: По умолчанию 10 секунд</li>
<li>.show_all: Отображать все три значения (true) или только первое значение (false)? По умолчанию значение равно false.</li></ul>
<h3><span class="mw-headline" id="cpuusage">cpuusage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=17" title="Edit section: cpuusage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Отображает среднюю загрузку процессора в данный момент времени. Это то, что делает htop.
</p>
<pre>
mycpuusage = vain.widgets.cpuusage()
</pre>
<p>Нажатие на виджет откроет терминал с htop.
</p><p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 10 секунд.</li></ul>
<h3><span class="mw-headline" id="memusage">memusage</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=18" title="Edit section: memusage">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Отображает использование памяти и общую память в MiB. Данные считываются из /proc/meminfo.
</p><p>mymemusage = vain.widgets.memusage()
</p><p>Нажатие на виджет откроет терминал с htop.
</p><p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 10 секунд.</li>
<li>.show_swap: Отображать использование swap? По умолчанию равно false.</li></ul>
<h3><span class="mw-headline" id="mailcheck">mailcheck</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=19" title="Edit section: mailcheck">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Проверяет каталог Maildirs и отображает результат в textbox. Например, у меня Maildirs расположен ~/Mail:
</p>
<pre>
$ pwd
/home/void/Mail
$ tree -ad
.
|-- bugs
|   |-- cur
|   |-- new
|   `-- tmp
|-- lists
|   |-- cur
|   |-- new
|   `-- tmp
|-- system
|   |-- cur
|   |-- new
|   `-- tmp
.
.
.
</pre>
<p>Виджет <i>mailcheck</i> проверяет имеются ли файлы в каталогах new. Для выполнения вызывается <i>find</i>. Если есть новые письма, textbox отобразит, что то вроде этого "mail: bugs(3), system(1)", в противном случае "no mail".
</p>
<pre>
mymailcheck = vain.widgets.mailcheck()
</pre>
<p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию каждые 30 секунд.</li>
<li>.mailpath: Путь к каталогу с почтой, по умолчанию ~/Mail.</li>
<li>.ignore_boxes: Другая таблица, которая содержит список ящиков (just the last part, like lists) для пропуска. По умолчанию нет значений.</li>
<li>.initial_update: Проверять почту при старте Awesome (true) или ожидать первого периода обновления (false)? По умолчанию равно true.</li></ul>
<p>При щелчке на виджете, вызывается bash alias с названием smail. Это оболочка скрипта для mutt который я использую: он автоматически отсылает(commits) в репозиторий git, после прочтения почты.
</p><p>beautiful.mailcheck_new может исполользовать цвета. new-mail-message отображается с использованием этого цвета. По умолчанию используется красный, если не определен.
</p>
<h3><span class="mw-headline" id="battery">battery</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=20" title="Edit section: battery">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Отображает оставшееся время и емкость батареи вашего ноутбука, а также текущую мощьность(wattage). Используется файловая система /sys.
</p><p>mybattery = vain.widgets.battery()
</p><p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 30 секунд.</li>
<li>.battery: Идентификатор батареи, за которой ведется наблюдение, по умолчанию <i>BAT0</i>.</li></ul>
<h3><span class="mw-headline" id="volume">volume</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=21" title="Edit section: volume">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Отображает и контролирует текущий уровень громности в textbox. Периодически вызывается скрипт control_volume для получения текущего значения громкости. Похожий скрипт используется и для установки громкости. Смотри ниже.
</p>
<ul><li>Щелчок левой кнопки: Включить/выключить звук.</li>
<li>Щелчок правой кнопки: Включить/выключить звук.</li>
<li>Щелчок средней кнопки: Запускает alsamixer в вашем терминале.</li>
<li>Колесо мыши: Увеличение/Уменьшение громкости.</li></ul>
<pre>
    myvolume = vain.widgets.volume()
</pre>
<p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 2 секунды.</li>
<li>.mixer_channel: По умолчанию канал Master.</li></ul>
<p>Я в настоящее время использую скрипт похожий на control_volume:
</p>
<pre>
#!/bin/bash
channel=${2:-Master}
case $1 in
    up)
        mpc volume +2
       &#160;;;
    down)
        mpc volume -2
       &#160;;;
    toggle)
        amixer set $channel toggle
       &#160;;;
    get)
        mpc volume | sed -r 's/^volume:&#160;?([^%]+)%.*/\1/'

        echo -n ' '

        amixer get $channel |
        sed -rn 's/.*\[([a-z]+)\]/\1/p' |
        head -1
       &#160;;;
esac
</pre>
<p>То есть, я узнаю и устанавливаю громкость через mpd. Раньше я использовал все эти возможности через amixer, но этоа программа все больше и больше ломается и частенько работает не как надо. Например, когда громкость уменьшается до 0%, amixer не может получить значение обратно.
</p><p>Это не очень красивое решение. Я решил использовать скрипт, поскольку я не хочу трогать конфигурацию Awesome когда мне удастся найти лучшее решение.
</p>
<h3><span class="mw-headline" id="mpd">mpd</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=22" title="Edit section: mpd">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Предоставляет набор imageboxes для контроля запущенного экземпляра mpd на вашем локальном компьютере. Также обеспечивается контроль похожий на виджет громкости. Для контроля mpd используется mpc.
</p>
<ul><li>Щелчок правой кнопкой на любой иконке: Включение/выключение звука через control_volume. Описание смотри выше.</li>
<li>Щелчок средней кнопкой на любой иконке: Открывает ncmpcpp в терминале.</li></ul>
<p>Эта функция возвращает не один виджет, а таблицу виджетов. В настоящее время, если вы захотите добавить их, нужно добавить только эту таблицу в wibox:
</p>
<pre>
mpdtable = vain.widgets.mpd()
...
mywibox[s].widgets = {
    ...
    mpdtable[1],
    mpdtable[2],
    mpdtable[3],
    mpdtable[4],
    mpdtable[5],
    mpdtable[6],
    ...
}
</pre>
<p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.mixer_channel: По умолчанию Master.</li>
<li>.show_label: Определяет, является ли mpd: отображается перед иконками управления. По умолчанию равно true.</li></ul>
<h3><span class="mw-headline" id="net">net</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=23" title="Edit section: net">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Мониторит сетевые интерфейсы и отображает текущий трафик в виде textbox. Если сетевого интерфейса не существует или если еще не достоточно данный, вы увидите, что то похожее на wlan0: -. В противном случае, текущий трафик отображается в килобайтах в секунду, следующим образом eth0: ↑(00,010.2), ↓(01,037.8).
</p>
<pre>
neteth0 = vain.widgets.net()
</pre>
<p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 2 секунды.</li>
<li>.iface: По умолчанию eth0.</li></ul>
<h3><span class="mw-headline" id="gitodo">gitodo</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=24" title="Edit section: gitodo">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Это интеграция gitodo в Awesome.
</p>
<pre>
todolist = vain.widgets.gitodo()
</pre>
<p>Функция принимает таблицу в качестве дополнительного аргумента. Эта таблица может содержать:
</p>
<ul><li>.refresh_timeout: По умолчанию 120 секунд</li>
<li>.initial_update: Проверяет список todo при запуске Awesome (true) или ожидает первого интервала обновления (false)? По умолчанию равно true.</li></ul>
<p><i>beautiful.gitodo_normal</i> используемый цвет для не просроченных задач, <i>beautiful.gitodo_warning</i> для элементов близких к завершению и  <i>beautiful.gitodo_outdated</i> цвет для просроченных задач.
</p>
<h3><span class="mw-headline" id="borderbox">borderbox</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=25" title="Edit section: borderbox">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Создает тонкий wibox в позиции относительно другого wibox. Это позволяет вам создавать "separators" или "borders" для ваших wibox. Например, представьте себе, что это wibox:
</p>
<pre>
[======================]
</pre>
<p>Если args.position = 'above', то вы получите дополнительный wibox ниже существующего wibox:
</p>
<pre>
________________________
[======================]
</pre>
<p>Он будет соответсвовать позиции и размеру существующего wibox.
</p><p>Если ваши основные wiboxes находятся в таблице которая называется mywibox (один wibox для каждого экрана) и располагается в нижней части вашего экрана, то следующий код добавит borderbox поверх него:
</p>
<pre>
for s = 1, screen.count()
do
    -- Most likely, you'll want to do this as well:
    awful.screen.padding(screen[s], { bottom = 1 })

    -- Создаем box и размещаем ее над существующим box.
    vain.widgets.borderbox(mywibox[s], s, { position = 'above' } )
end
</pre>
<p>borderbox() определена следующим образом:
</p>
<pre>
function borderbox(relbox, s, args)
</pre>
<p>relbox и s (число) необходимые аргументы, args не является обязательным. args может содеражать:
</p>
<ul><li>.position: Один из вариантов above, below, left and right. По умолчанию above.</li>
<li>.color: Цвет дополнительного box. По умолчанию равно #FFFFFF.</li>
<li>.size: Размер дополнительного box, измеряется в пикселях. По умолчанию 1.</li></ul>
<h2><span class="mw-headline" id=".D0.A1.D0.BB.D1.83.D0.B6.D0.B5.D0.B1.D0.BD.D1.8B.D0.B5_.D1.84.D1.83.D0.BD.D0.BA.D1.86.D0.B8.D0.B8">Служебные функции</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=26" title="Edit section: Служебные функции">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Здесь я объясню только наиболее сложные функции из файла <i>init.lua</i>. Смотрите исходный код для изучения остальных.
</p>
<h3><span class="mw-headline" id="menu_clients_current_tags">menu_clients_current_tags</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=27" title="Edit section: menu clients current tags">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Эта функция подобна awful.menu.clients(), но отображает клиентов только для текущего тега. Используйте следующим образом:
</p>
<pre>
globalkeys = awful.util.table.join(
    ...
    awful.key({ &quot;Mod1&quot; }, &quot;Tab&quot;, function()
        awful.menu.menu_keys.down = { &quot;Down&quot;, &quot;Alt_L&quot;, &quot;Tab&quot;, &quot;j&quot; }
        awful.menu.menu_keys.up = { &quot;Up&quot;, &quot;k&quot; }
        vain.util.menu_clients_current_tags({ width = 350 }, { keygrabber = true })
    end),
    ...
)
</pre>
<h3><span class="mw-headline" id="magnify_client">magnify_client</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=28" title="Edit section: magnify client">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Устанавливает клиенту плавающий режим(floating) и изменяет его размеры так же, как это сделано в схеме "magnifier". Размещает клиент на "текущем" экране (зависит от положения мыши). Это позволяет вам увеличить любой клиент, независимо от используемой схемы. Используйте функцию клавиатурной привязки клиента следующим образом:
</p>
<pre>
clientkeys = awful.util.table.join(
    ...
    awful.key({ modkey, &quot;Control&quot; }, &quot;m&quot;, vain.util.magnify_client),
    ...
)
</pre>
<p>Если вы хотите "de-magnify" клиент, просто сбросьте клиенту плавающий режим на false (обычно Mod+CTRL+Space).
</p>
<h2><span class="mw-headline" id=".D0.A6.D0.B2.D0.B5.D1.82_.D0.B3.D1.80.D0.B0.D0.BD.D0.B8.D1.86.D1.8B_.D0.BE.D0.BA.D0.BE.D0.BD_.D0.B2_.D0.B7.D0.B0.D0.B2.D0.B8.D1.81.D0.B8.D0.BC.D0.BE.D1.81.D1.82.D0.B8_.D0.BE.D1.82_.D0.B7.D0.BD.D0.B0.D1.87.D0.B5.D0.BD.D0.B8.D1.8F_.D0.BF.D1.80.D0.B8.D0.BE.D1.80.D0.B8.D1.82.D0.B5.D1.82.D0.B0">Цвет границы окон в зависимости от значения приоритета</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=29" title="Edit section: Цвет границы окон в зависимости от значения приоритета">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>Для установки приоритета используется утилита nice. Для ознакомления с ней и ее возможностями читайте руководство.</b>
</p><p>По умолчанию ваш rc.lua содержит что то похожее на:
</p>
<pre>
client.add_signal(&quot;focus&quot;, function(c) c.border_color = beautiful.border_focus end)
client.add_signal(&quot;unfocus&quot;, function(c) c.border_color = beautiful.border_normal end)
</pre>
<p>Вы можете изменить это на:
</p>
<pre>
client.add_signal(&quot;focus&quot;, vain.util.niceborder_focus)
client.add_signal(&quot;unfocus&quot;, vain.util.niceborder_unfocus)
</pre>
<p>Теперь, при фокусировке или потере фокуса клиентом, Awesome будет искать его значение nice в /proc/&lt;pid&gt;/stat. Если значение меньше 0, это окно классифицируется как имеющее "high priority"; если оно больше 0, окно классифицируется как имеющее "low priority". Если оно равно 0, ничего особенного не происходит.
</p><p>Это требует определить дополнительные цвета в theme.lua. Вот те, которые использую я:
</p>
<pre>
theme.border_focus_highprio  = &quot;#FF0000&quot;
theme.border_normal_highprio = &quot;#A03333&quot;

theme.border_focus_lowprio   = &quot;#3333FF&quot;
theme.border_normal_lowprio  = &quot;#333366&quot;
</pre>
<h2><span class="mw-headline" id="tag_view.7Bnext.2Cprev.7D_nonempty">tag_view{next,prev}_nonempty</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Vain/ru&amp;action=edit&amp;section=30" title="Edit section: tag view{next,prev} nonempty">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Возможно вы используете taglist, который отображает только не пустые теги:
</p>
<pre>
mytaglist = awful.widget.taglist(s, awful.widget.taglist.label.noempty, mytaglist.buttons)
--                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
</pre>
<p>В таком случае, настройка по умолчанию будет выглядеть так:
</p>
<pre>
globalkeys = awful.util.table.join(
    -- Стандартная навигация
    awful.key({ modkey }, &quot;Left&quot;,   awful.tag.viewprev),
    awful.key({ modkey }, &quot;Right&quot;,  awful.tag.viewnext),
    ...
</pre>
<p>Так при нажатии modkey + right, вы переходите на следующий тег. Однако, при отображении только не пустых тегов, целевой(намеченный) тег может быть пуст! Мне это не нравится. Я всегда хочу переходить на следующий не пустой тег, пропуская пустые.
</p><p>tag_viewnext_nonempty() и tag_viewprev_nonempty() делают именно это. Для их использования, заменить указанный выше код на следующий:
</p>
<pre>
globalkeys = awful.util.table.join(
    -- Standard navigation
    awful.key({ modkey }, &quot;Left&quot;,   vain.util.tag_viewprev_nonempty),
    awful.key({ modkey }, &quot;Right&quot;,  vain.util.tag_viewnext_nonempty),
    ...
</pre>
<p><b>Note:</b> Для перехода на пустой тег, вы должны вызывать непосредственно его. То есть, используйте modkey + 4 или аналогичное.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.088 seconds
Real time usage: 0.089 seconds
Preprocessor visited node count: 571/1000000
Preprocessor generated node count: 1172/1000000
Post‐expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Highest expansion depth: 2/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:1118-0!*!*!!en!*!* and timestamp 20160514160900 and revision id 6775
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Vain/ru&amp;oldid=6775">https://awesomewm.org/w/index.php?title=Vain/ru&amp;oldid=6775</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Vain/ru" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Vain/ru&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Vain/ru&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Vain/ru&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Vain%2Fru" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Vain/ru" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Vain/ru" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=Vain/ru&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Vain/ru&amp;oldid=6775" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Vain/ru&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 11 June 2014, at 22:01.</li>
									<li id="viewcount">This page has been accessed 1,462 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":117});
}</script></body></html>