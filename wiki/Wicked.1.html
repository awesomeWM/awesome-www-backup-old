<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Wicked - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Wicked&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Wicked&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Wicked" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Wicked","wgTitle":"Wicked","wgCurRevisionId":4328,"wgRevisionId":4328,"wgArticleId":93,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Awesome3"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Wicked","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Wicked skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Wicked</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><strong class="selflink">English</strong></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="fr"><a href="/wiki/Wicked/fr" title="Wicked/fr">français</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="zh-hans"><a href="/wiki/Wicked/zh-hans" title="Wicked/zh-hans">中文（简体）‎</a></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<p>Note: Wicked has been deprecated in favour of the new <a href="/wiki/Vicious" title="Vicious">Vicious</a> library, which has more features and is updated more often.
</p><p>Wicked is a lua library, which means you can require() it from within <a href="/wiki/Awesome_3_configuration#Files" title="Awesome 3 configuration">rc.lua</a>, and set up all your widgets from inside the same config file, without having to run a separate program with separate config files.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Getting_Wicked"><span class="tocnumber">1</span> <span class="toctext">Getting Wicked</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Debian"><span class="tocnumber">1.1</span> <span class="toctext">Debian</span></a>
<ul>
<li class="toclevel-3 tocsection-3"><a href="#Lenny_x86"><span class="tocnumber">1.1.1</span> <span class="toctext">Lenny x86</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-4"><a href="#Arch_Linux"><span class="tocnumber">1.2</span> <span class="toctext">Arch Linux</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Source_Mage_GNU.2FLinux"><span class="tocnumber">1.3</span> <span class="toctext">Source Mage GNU/Linux</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Gentoo_Linux"><span class="tocnumber">1.4</span> <span class="toctext">Gentoo Linux</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Manually"><span class="tocnumber">1.5</span> <span class="toctext">Manually</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="#Setting_Up_Wicked"><span class="tocnumber">2</span> <span class="toctext">Setting Up Wicked</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Creating_Widgets"><span class="tocnumber">3</span> <span class="toctext">Creating Widgets</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Date_Widget_Example"><span class="tocnumber">3.1</span> <span class="toctext">Date Widget Example</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#MPD_.60Now_Playing.60_Example"><span class="tocnumber">3.2</span> <span class="toctext">MPD `Now Playing` Example</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Memory_Usage_Monitor_Example"><span class="tocnumber">3.3</span> <span class="toctext">Memory Usage Monitor Example</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Memory_Usage_Progressbar_Example"><span class="tocnumber">3.4</span> <span class="toctext">Memory Usage Progressbar Example</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#CPU_Usage_Example"><span class="tocnumber">3.5</span> <span class="toctext">CPU Usage Example</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#CPU_Usage_Graph_Example"><span class="tocnumber">3.6</span> <span class="toctext">CPU Usage Graph Example</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Filesystem_Usage_Example"><span class="tocnumber">3.7</span> <span class="toctext">Filesystem Usage Example</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Network_Interface_Monitor_Example"><span class="tocnumber">3.8</span> <span class="toctext">Network Interface Monitor Example</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#Battery_Charge_Example"><span class="tocnumber">3.9</span> <span class="toctext">Battery Charge Example</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Custom_Widgets"><span class="tocnumber">4</span> <span class="toctext">Custom Widgets</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Awesome_Freezing"><span class="tocnumber">5</span> <span class="toctext">Awesome Freezing</span></a></li>
<li class="toclevel-1 tocsection-21"><a href="#Temporarily_Suspending_Wicked"><span class="tocnumber">6</span> <span class="toctext">Temporarily Suspending Wicked</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Getting_Wicked">Getting Wicked</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=1" title="Edit section: Getting Wicked">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Debian">Debian</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=2" title="Edit section: Debian">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<h4><span class="mw-headline" id="Lenny_x86">Lenny x86</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=3" title="Edit section: Lenny x86">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Awesome3 is available in sid. It has been backported to lenny. To use it, become root and:
</p>
<ul><li> Add the repository to /etc/apt/sources.list:</li></ul>
<pre>
deb http://corvix.eu testing ware
</pre>
<ul><li> And install it</li></ul>
<pre>
apt-get update
apt-get upgrade
apt-get install awesome awesome-wicked
</pre>
<ul><li> To get rid of the warning about the key signature add the key</li></ul>
<pre>
gpg --keyserver pgpkeys.mit.edu --recv-key 974E7D68
gpg -a --export 974E7D68 | sudo apt-key add -
</pre>
<p>Its fingerprint should be:
0189 4F9A 5CFD 0242 5BEA 39E6 37A4 6DF5 974E 7D68
</p>
<h3><span class="mw-headline" id="Arch_Linux">Arch Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=4" title="Edit section: Arch Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you are using Arch Linux, a PKGBUILD is already available over at the aur, get it here: <a rel="nofollow" class="external free" href="http://aur.archlinux.org/packages.php?ID=17232">http://aur.archlinux.org/packages.php?ID=17232</a>.
</p><p>Repositories:
</p>
<pre>
[awesome]
#awesome3
Server = http://www.camazotz.de/awesome/
</pre>
<pre>
[deelab]
#awesome-git
Server = http://www.deelab.org/arch/i686
</pre>
<h3><span class="mw-headline" id="Source_Mage_GNU.2FLinux">Source Mage GNU/Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=5" title="Edit section: Source Mage GNU/Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>All you have to do is "cast wicked"
</p>
<h3><span class="mw-headline" id="Gentoo_Linux">Gentoo Linux</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=6" title="Edit section: Gentoo Linux">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>A gentoo package is available here <a rel="nofollow" class="external text" href="http://overlays.gentoo.org/dev/matsuu/browser/awesome/x11-plugins/wicked/wicked-9999.ebuild">wicked-9999.ebuild</a>.
</p>
<h3><span class="mw-headline" id="Manually">Manually</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=7" title="Edit section: Manually">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>If you are not using Arch or would like to fetch the library separately, you can fetch it from the git repository at <a rel="nofollow" class="external free" href="http://git.glacicle.com/?p=awesome/wicked.git;a=summary">http://git.glacicle.com/?p=awesome/wicked.git;a=summary</a>.
</p><p>Install it manually as such:
</p>
<pre>
git clone git://git.glacicle.com/awesome/wicked.git
sudo cp wicked/wicked.lua /usr/share/awesome/lib/
sudo cp wicked/wicked.7.gz /usr/share/man/man7/
</pre>
<h2><span class="mw-headline" id="Setting_Up_Wicked">Setting Up Wicked</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=8" title="Edit section: Setting Up Wicked">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Setting up wicked is easy, just add the following line to the top of your <a href="/wiki/Awesome_3_configuration#Files" title="Awesome 3 configuration">rc.lua</a> and you're ready to go.
</p>
<pre>
require(&quot;wicked&quot;)
</pre>
<h2><span class="mw-headline" id="Creating_Widgets">Creating Widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=9" title="Edit section: Creating Widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Creating widgets is as simple as adding one function call to your <a href="/wiki/Awesome_3_configuration#Files" title="Awesome 3 configuration">rc.lua</a>, below are a few examples you can use, for more information on possible widget types and options, see `man wicked` after installing wicked. Don't forget that you still need to add the widgets to the statusbar later.
</p><p>Best to learn by example.  Check out the author's <a rel="nofollow" class="external text" href="http://git.glacicle.com/other/configs.git/.config/awesome/rc_31.lua">current config</a>.
</p>
<h3><span class="mw-headline" id="Date_Widget_Example">Date Widget Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=10" title="Edit section: Date Widget Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the current date (output of the `date` command) in the statusbar.
</p>
<pre>
datewidget = widget({
    type = 'textbox',
    name = 'datewidget'
})

wicked.register(datewidget, wicked.widgets.date,
    ' &lt;span color=&quot;white&quot;&gt;Date:&lt;/span&gt;&#160;%c')
</pre>
<h3><span class="mw-headline" id="MPD_.60Now_Playing.60_Example">MPD `Now Playing` Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=11" title="Edit section: MPD `Now Playing` Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget is a simple widget showing the song that is currently playing through the Music Playing Daemon.
</p>
<pre>
mpdwidget = widget({
    type = 'textbox',
    name = 'mpdwidget'
})

wicked.register(mpdwidget, wicked.widgets.mpd,
    ' &lt;span color=&quot;white&quot;&gt;Now Playing:&lt;/span&gt; $1')
</pre>
<p>If you want to get a little more fancy and show the current song only when it's playing, change the register call to this:
</p>
<pre>
wicked.register(mpdwidget, wicked.widgets.mpd, 
	function (widget, args)
		   if args[1]:find(&quot;volume:&quot;) == nil then
		      return ' &lt;span color=&quot;white&quot;&gt;Now Playing:&lt;/span&gt; '..args[1]
		   else
                      return ''
                   end
		end)
</pre>
<h3><span class="mw-headline" id="Memory_Usage_Monitor_Example">Memory Usage Monitor Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=12" title="Edit section: Memory Usage Monitor Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget shows the current memory usage in percentage and in megabytes out of the total available.
</p>
<pre>
memwidget = widget({
    type = 'textbox',
    name = 'memwidget'
})

wicked.register(memwidget, wicked.widgets.mem,
    ' &lt;span color=&quot;white&quot;&gt;Memory:&lt;/span&gt; $1 ($2Mb/$3Mb)')
</pre>
<p>If you wanted to padd the values to 2, 4 and 4 digits respectively, you would use:
</p>
<pre>
memwidget = widget({
    type = 'textbox',
    name = 'memwidget'
})

wicked.register(memwidget, wicked.widgets.mem,
    ' &lt;span color=&quot;white&quot;&gt;Memory:&lt;/span&gt; $1 ($2Mb/$3Mb)',
nil, nil, {2, 4, 4})
</pre>
<h3><span class="mw-headline" id="Memory_Usage_Progressbar_Example">Memory Usage Progressbar Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=13" title="Edit section: Memory Usage Progressbar Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the relative memory usage in a progressbar.
</p>
<pre>
membarwidget = widget({
    type = 'progressbar',
    name = 'membarwidget',
    align = 'right'
})

membarwidget:properties_set('mem', {
width = 40,
height = 0.65,
gap = 0,
border_padding = 1,
border_width = 1,
ticks_count = 0,
ticks_gap = 0,
vertical = false
})

membarwidget:bar_properties_set('mem', {
bg = '#222222',
fg = '#285577',
fg_center = '#285577',
fg_end = '#285577',
fg_off = '#222222',
reverse = false,
min_value = 0,
max_value = 100
})

wicked.register(membarwidget, wicked.widgets.mem, '$1', 1, 'mem')
</pre>
<h3><span class="mw-headline" id="CPU_Usage_Example">CPU Usage Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=14" title="Edit section: CPU Usage Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the current CPU usage in percentages.
</p>
<pre>
cpuwidget = widget({
    type = 'textbox',
    name = 'cpuwidget'
})

wicked.register(cpuwidget, wicked.widgets.cpu,
    ' &lt;span color=&quot;white&quot;&gt;CPU:&lt;/span&gt; $1%')
</pre>
<h3><span class="mw-headline" id="CPU_Usage_Graph_Example">CPU Usage Graph Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=15" title="Edit section: CPU Usage Graph Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays a graph with your current CPU usage.
</p>
<pre>
cpugraphwidget = widget({
    type = 'graph',
    name = 'cpugraphwidget',
    align = 'right'
})

cpugraphwidget.height = 0.85
cpugraphwidget.width = 45
cpugraphwidget.bg = '#333333'
cpugraphwidget.border_color = '#0a0a0a'
cpugraphwidget.grow = 'left'

cpugraphwidget:plot_properties_set('cpu', {
    fg = '#AEC6D8',
    fg_center = '#285577',
    fg_end = '#285577',
    vertical_gradient = false
})

wicked.register(cpugraphwidget, wicked.widgets.cpu, '$1', 1, 'cpu')
</pre>
<h3><span class="mw-headline" id="Filesystem_Usage_Example">Filesystem Usage Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=16" title="Edit section: Filesystem Usage Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the space used out of the total space available on the partition mounted as /, as well as the usage percentage.
</p>
<pre>
fswidget = widget({
    type = 'textbox',
    name = 'fswidget'
})

wicked.register(fswidget, wicked.widgets.fs,
    ' &lt;span color=&quot;white&quot;&gt;FS:&lt;/span&gt; ${/ used}/${/ size} (${/ usep} used)', 120)
</pre>
<h3><span class="mw-headline" id="Network_Interface_Monitor_Example">Network Interface Monitor Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=17" title="Edit section: Network Interface Monitor Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the current speed on eth0, as well as connection transfer totals.
The final argument padds all values to at least 3 digits.
</p>
<pre>
netwidget = widget({
    type = 'textbox',
    name = 'netwidget'
})

wicked.register(netwidget, wicked.widgets.net, 
    ' &lt;span color=&quot;white&quot;&gt;NET&lt;/span&gt;: ${eth0 down} / ${eth0 up} [ ${eth0 rx} //  ${eth0 tx} ]',
nil, nil, 3)
</pre>
<h3><span class="mw-headline" id="Battery_Charge_Example">Battery Charge Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=18" title="Edit section: Battery Charge Example">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The following widget displays the charge of your batteries:
</p>
<pre>
batteries = 2

-- Function to extract charge percentage
function read_battery_life(number)
   return function(format)
             local fh = io.popen('acpi')
             local output = fh:read(&quot;*a&quot;)
             fh:close()

             count = 0
             for s in string.gmatch(output, &quot;(%d+)%%&quot;) do
                if number == count then
                   return {s}
                end
                count = count + 1
             end
          end
end

-- Display one vertical progressbar per battery
for battery=0, batteries-1 do
   batterygraphwidget = widget({ type = 'progressbar',
                                 name = 'batterygraphwidget',
                                 align = 'right' })
   batterygraphwidget.height = 0.85
   batterygraphwidget.width = 8
   batterygraphwidget.bg = '#333333'
   batterygraphwidget.border_color = '#0a0a0a'
   batterygraphwidget.vertical = true
   batterygraphwidget:bar_properties_set('battery',
                                         { fg = '#AEC6D8',
                                           fg_center = '#285577',
                                           fg_end = '#285577',
                                           fg_off = '#222222',
                                           vertical_gradient = true,
                                           horizontal_gradient = false,
                                           ticks_count = 0,
                                           ticks_gap = 0 })

   wicked.register(batterygraphwidget, read_battery_life(battery), '$1', 1, 'battery')
end
</pre>
<h2><span class="mw-headline" id="Custom_Widgets">Custom Widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=19" title="Edit section: Custom Widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>You can create your own custom widgets by passing your own functions as the type parameter, using this, you can specify any arbitrary command to be outputted into a widget at any interval. The following example displays the volume from alsa (gotten by running the `amixer` command and parsing the output), every 4 seconds. (Note: requires alsa-utils)
</p>
<pre>
volumewidget = widget({
    type = 'textbox',
    name = 'volumewidget'
})

function amixer_volume(format)
   local f = io.popen('amixer get PCM')
   local l = f:lines()
   local v = ''

   for line in l do
       if line:find('Front Left:') ~= nil then
            pend = line:find('%]', 0, true)
            pstart = line:find('[', 0, true)
            v = line:sub(pstart+1, pend)
       end
   end

   f:close()

   return {v}
end


wicked.register(volumewidget, amixer_volume, &quot;&lt;span color='white'&gt;Volume&lt;/span&gt;: $1&quot;, 4)</pre>
<p>You can use the following to run any external script you might have written that collects data and outputs it:
</p>
<pre>
mywidget = widget({
    type = 'textbox',
    name = 'mywidget'
})
 
function run_script()
    local filedescriptor = io.popen('my_nifty_script.py')
    local value = filedescriptor:read()
    filedescriptor:close()

    return {value}
end
 
-- Runs 'my_nifty_script.py' every 10 seconds and puts its output into the widget
wicked.register(mywidget, run_script, &quot;$1&quot;, 10)
</pre>
<h2><span class="mw-headline" id="Awesome_Freezing">Awesome Freezing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=20" title="Edit section: Awesome Freezing">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Because awesome waits for the lua code to finish before resuming, running a slow script might bog down or freeze your awesome, you can use a background process and a temporary file to circumvent this.
Use the code below to run a slow script you might have, without freezing awesome.
</p>
<pre>
mywidget = widget({
    type = 'textbox',
    name = 'mywidget'
})

function run_slow_script (widget, args) 
   -- Read the temporary file left by the script
   local filedescriptor = io.open('/tmp/script-temp-file')
   local value = nil

   if filedescriptor ~= nil then
      value = filedescriptor:read()
   end

   filedescriptor:close()

   if value == nil then
      return {''}
   else
      return {value}
   end
end

-- Runs 'my_slow_script.py' every 10 seconds and puts its output into the widget
wicked.register(mywidget, run_slow_script, &quot;$1&quot;, 10)

-- Register a timer to run every 9 seconds
awful.hooks.timer.register(9, mywidget_timer)

-- Use the timer to fill the temporary file
function mywidget_timer ()
   os.execute('my_slow_script.py &gt; /tmp/script-temp-file &amp;')
end
</pre>
<h2><span class="mw-headline" id="Temporarily_Suspending_Wicked">Temporarily Suspending Wicked</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Wicked&amp;action=edit&amp;section=21" title="Edit section: Temporarily Suspending Wicked">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>If you are paranoid about battery usage, and you would prefer if wicked didn't run commands in the background all the time while you are on battery power, you could temporarily suspend all wicked updates by using "wicked.suspend()" in a keybinding. You can reactivate everything that was suspended by using "wicked.activate()".
</p><p>Using awesome-client you could call these automatically, from, for example, a hal script. You would do this as such:
</p>
<pre>
#!/bin/bash
echo &quot;wicked.suspend()&quot; | awesome-client
</pre>
<p>Substitute suspend for activate where appropriate.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.136 seconds
Real time usage: 0.153 seconds
Preprocessor visited node count: 993/1000000
Preprocessor generated node count: 1840/1000000
Post‐expand include size: 3479/2097152 bytes
Template argument size: 141/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 49/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:93-0!*!0!!en!5!* and timestamp 20160515103109 and revision id 4328
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Wicked&amp;oldid=4328">https://awesomewm.org/w/index.php?title=Wicked&amp;oldid=4328</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Awesome3" title="Category:Awesome3">Awesome3</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Wicked" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk"><a href="/wiki/Talk:Wicked" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Wicked&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Wicked&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Wicked" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Wicked" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Wicked" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=Wicked&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Wicked&amp;oldid=4328" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Wicked&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 24 June 2010, at 02:44.</li>
									<li id="viewcount">This page has been accessed 73,254 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":107});
}</script></body></html>