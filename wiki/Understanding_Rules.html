<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Understanding Rules - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Understanding_Rules&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Understanding_Rules&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Understanding_Rules" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Understanding_Rules","wgTitle":"Understanding Rules","wgCurRevisionId":7233,"wgRevisionId":7233,"wgArticleId":849,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Awesome3"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Understanding_Rules","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Understanding_Rules skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Understanding Rules</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><strong class="selflink">English</strong></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="ru"><a href="/wiki/Understanding_Rules/ru" title="Understanding Rules/ru">русский</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<p>This page attempts to describe the 'rules' that appear in Awesome's config file and how they work.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Getting_Started"><span class="tocnumber">1</span> <span class="toctext">Getting Started</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#The_Basic_Principle"><span class="tocnumber">2</span> <span class="toctext">The Basic Principle</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Matching_Windows:_rule.2C_rule_any.2C_except_and_except_any"><span class="tocnumber">2.1</span> <span class="toctext">Matching Windows: rule, rule_any, except and except_any</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Modifying_Windows:_properties_and_callback"><span class="tocnumber">2.2</span> <span class="toctext">Modifying Windows: properties and callback</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#properties"><span class="tocnumber">2.2.1</span> <span class="toctext">properties</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#callback"><span class="tocnumber">2.2.2</span> <span class="toctext">callback</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Window_Properties"><span class="tocnumber">3</span> <span class="toctext">Window Properties</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#name"><span class="tocnumber">3.1</span> <span class="toctext">name</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#class"><span class="tocnumber">3.2</span> <span class="toctext">class</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#instance"><span class="tocnumber">3.3</span> <span class="toctext">instance</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#type"><span class="tocnumber">3.4</span> <span class="toctext">type</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#window"><span class="tocnumber">3.5</span> <span class="toctext">window</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#role"><span class="tocnumber">3.6</span> <span class="toctext">role</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Additional_Properties"><span class="tocnumber">3.7</span> <span class="toctext">Additional Properties</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-15"><a href="#Interpreting_rc.lua"><span class="tocnumber">4</span> <span class="toctext">Interpreting rc.lua</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Examples"><span class="tocnumber">5</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="#Using_except"><span class="tocnumber">5.1</span> <span class="toctext">Using except</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Related_Pages"><span class="tocnumber">6</span> <span class="toctext">Related Pages</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Getting_Started">Getting Started</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=1" title="Edit section: Getting Started">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>When you first opened <code>rc.lua</code> to make your changes, you doubtless encountered this block of code:
</p>
<pre>awful.rules.rules = {
    -- All clients will match this rule.
    { rule = { },
      properties = { border_width = beautiful.border_width,
                     border_color = beautiful.border_normal,
                     focus = true,
                     keys = clientkeys,
                     buttons = clientbuttons } },
    { rule = { class = &quot;MPlayer&quot; },
      properties = { floating = true } },
    { rule = { class = &quot;pinentry&quot; },
      properties = { floating = true } },
    { rule = { class = &quot;gimp&quot; },
      properties = { floating = true } },
    -- Set Firefox to always map on tags number 2 of screen 1.
    -- { rule = { class = &quot;Firefox&quot; },
    --   properties = { tag = tags[1][2] } },
}
</pre>
<p>We can vaguely guess what this does, but if we want to truly customize Awesome to meet our needs, we'll need to know more to be able to create our own rules.
</p>
<h2><span class="mw-headline" id="The_Basic_Principle">The Basic Principle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=2" title="Edit section: The Basic Principle">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Basically, <code>awful.rules.rules</code> contains an array of instructions, each instruction having two parts.
</p><p>The first part can be thought of as a "search pattern" which tells Awesome which window attributes you're interested in.  The second part can be thought of as the "command" which tells Awesome what to do to the window once it's found one that matches the search pattern you specified.
</p>
<h3><span class="mw-headline" id="Matching_Windows:_rule.2C_rule_any.2C_except_and_except_any">Matching Windows: <code>rule</code>, <code>rule_any</code>, <code>except</code> and <code>except_any</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=3" title="Edit section: Matching Windows: rule, rule any, except and except any">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Awesome can inspect windows for a variety of properties.  There are four ways you can match against these properties:
</p>
<dl><dt> <code>rule</code></dt>
<dd>  To match a window, the window's properties must match <i>all</i> the properties specified in the array assigned to <code>rule</code>.</dd>
<dt> <code>rule_any</code></dt>
<dd>  To match a window, the window's properties must match <i>one or more</i> of the properties specified in the array assigned to <code>rule_any</code>.</dd>
<dt> <code>except</code></dt>
<dd>  Any window matching a <code>rule</code> or <code>rule_any</code> above is excluded if the window's properties match <i>all</i> of the properties specified in the array assigned to <code>except</code>.</dd>
<dt> <code>except_any</code></dt>
<dd>  Any window matching a <code>rule</code> or <code>rule_any</code> above is excluded if the window's properties match <i>one or more</i> of the properties specified in the array assigned to <code>except_any</code>.</dd></dl>
<p>The value of <code>rule</code> <i>et al</i> is itself an array that names all the window properties you want Awesome to compare against.  This array may be any length, including zero length (empty).  Its syntax is as follows:
</p>
<pre>{ rule = { [ <var>property</var> = <var>value</var> [, <var>property</var> = <var>value</var>, ... ] ] } }
</pre>
<p>Where <var>property</var> is the name of a <a href="#Window_Properties">window property</a>.
</p><p>A <code>rule</code> with zero properties (empty) will match all windows.  An <code>except</code> with zero properties will exclude no windows.
</p><p>Unlike, for example, rules in a network firewall, there is no early exit to rule processing.  All <code>rule</code> tests are applied to all windows; a window may be matched by more than one <code>rule</code>.  For each <code>rule</code> that matches a window, the corresponding modifications are applied.
</p><p>For window properties that are strings, the property values you supply to <code>rule</code> <i>et al</i> are compared to the window properties using the Lua <code>string.match()</code> function, which performs sub-string and pattern matching.  Thus, a <code>rule</code> of the form <code>{ class = "x" }</code> would match all windows where the character "x" appeared anywhere in the window's <code>class</code> property.
</p>
<h3><span class="mw-headline" id="Modifying_Windows:_properties_and_callback">Modifying Windows: <code>properties</code> and <code>callback</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=4" title="Edit section: Modifying Windows: properties and callback">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Once we've matched a window, we'll want to do things to it.  There are two ways to tell Awesome how to alter a window.
</p>
<h4><span class="mw-headline" id="properties"><code>properties</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=5" title="Edit section: properties">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>By far the most common method, the <code>properties</code> element is an array of window properties and values.  For each value in the <code>properties</code> array, Awesome assigns the value to the corresponding property in the matched window.
</p><p>The syntax for <code>properties</code> is as follows:
</p>
<pre>{ properties = { <var>property</var> = <var>value</var> [, <var>property</var> = <var>value</var>, ... ] } }
</pre>
<p>Where <var>property</var> is the name of a <a href="#Window_Properties">window property</a>.
</p><p><var>property</var> can also be the name of a Lua function.  The function is called with the Awesome client object as the first argument, and <var>value</var> as the second argument.
</p>
<h4><span class="mw-headline" id="callback"><code>callback</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=6" title="Edit section: callback">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>(It is unclear whether the <code>callback</code> feature is deprecated.)
</p><p>You can specify a Lua function to call when a window is matched; the window client is passed to the Lua function as an argument.  This can be used to perform more complex operations than are possible using simple property assignment.  Like <code>properties</code>, <code>callback</code> takes an array, so you can specify any number of functions to be called against the matched window.
</p><p>The syntax for <code>callback</code> is as follows:
</p>
<pre>{ callback = { <var>function</var> [, <var>function</var>, ... ] }
</pre>
<p>Where <var>function</var> is any Lua function that accepts an Awesome client object as an argument.
</p>
<h2><span class="mw-headline" id="Window_Properties">Window Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=7" title="Edit section: Window Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a rel="nofollow" class="external text" href="http://awesome.naquadah.org/doc/api/modules/client.html">A complete list of all the window properties that Awesome knows how to look for and change</a> may be found at the end of the client page in the <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/doc/api">Lua API documentation</a>.  Many of these property names are self-explanatory.
</p><p>Unfortunately, some of these properties directly expose internal X Windows property values, some of which are relatively obscure, and the descriptions on the Lua API page are unhelpfully terse.  To craft useful rules, however, you will need to understand some of them.  The program <code>xprop</code>, which is standard on all X Windows-based systems, can be enormously helpful in understanding some of this mish-mash.  To use <code>xprop</code>:
</p>
<ul><li> Open a command line window.</li>
<li> Type the command <code>xprop</code> and press Enter.  Your mouse cursor will change to a cross-hair.</li>
<li> Using the mouse, point at the window you're interested in and click on it.  The X Windows properties of that window will be printed to the command terminal.</li></ul>
<p>In particular, <code>xprop</code> can be extremely useful in understanding the distinction between the <code>class</code>, <code>name</code>, and <code>instance</code> properties.
</p><p>Here's a brief list of window properties supported by Awesome and some hopefully enlightening descriptions.
</p>
<h4><span class="mw-headline" id="name"><code>name</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=8" title="Edit section: name">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This is generally the contents of the window's titlebar at any given instant.  The <code>name</code> of a window is a string, and may be changed at any time by the program.  Since many programs are known to change this frequently (Firefox being an obvious example), this may be of limited use in <code>rule</code> matching.
</p><p>In the <code>xprop</code> output, this is the value of the <code>WM_NAME</code> property.
</p>
<h4><span class="mw-headline" id="class"><code>class</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=9" title="Edit section: class">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>This is a name unique to the program -- usually a camel-cased version of the program's name.  The <code>class</code> of a window is a string, is read-only, and is hard-coded by the program that created it -- that is, the program decides what its class value is, and it can't be changed after the fact.  No matter how many copies of xterm you've launched, or what their window titles have been changed to, all those windows will have the same class value ("XTerm").  Thus, a window's class may be used to uniquely associate with a particular program.
</p><p>In the <code>xprop</code> output, the class is the <b>second</b> value of the <code>WM_CLASS</code> property.
</p>
<h4><span class="mw-headline" id="instance"><code>instance</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=10" title="Edit section: instance">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The Weird One.  The <code>instance</code> of a window is a string, and can be set to any value at program startup.
</p><p><code>instance</code> is an obscure feature of X Windows that sees little use these days.  It provides a way to differentiate between windows that may be the same underlying executable, but are being used in different roles.  For example, if you had a an xterm window that was exclusively used to read your mail, you may wish to change its <code>instance</code> property so that it could be distinguished from every other xterm window.
</p><p>Most X Windows programs let you change the value of <code>instance</code> by using the (unhelpfully named) command line argument <code>-name</code>.  If you don't otherwise specify a value for <code>instance</code>, it typically takes the value of argv[0] (the name you used to launch the program).
</p><p>There are exceptions to this rule, however -- most notably, Firefox.  The <code>class</code> of Firefox is "Firefox".  However, the <code>instance</code> of all of Firefox's browser windows is "Navigator".  This is probably a historical left-over from when Mozilla (Firefox's progenitor) was not just a Web browser, but also a mail reader and HTML editor.  All of Mozilla's open windows would have the class "Mozilla", but the mail reader and HTML editor windows would each have different <code>instance</code> values.  So if you wanted to change the properties of the Web browser windows, but leave the mail reader windows alone, you'd match against an <code>instance</code> value of "Navigator".
</p><p>Another notable example is Chrome (or Chromium). Windows on e.g. Chromium will have the class "Chromium-Browser". The instance is used to distinguish different extensions (or apps). If the windows is a plain browser window, it will have the same instance as class. If it belongs to a plugin/extension/app (e.g. the Hangout plugin) it will have the plugin id (in this case "crx_nckgahadagoaajjgafhacjanaoiihapd") as the instance.
</p><p>In the <code>xprop</code> output, the instance is the <b>first</b> value of the <code>WM_CLASS</code> property.
</p><p>You can play with this using <code>xprop</code> and see how <code>instance</code> and <code>class</code> interrelate.  As an example, open a command line shell and launch an xterm normally:
</p>
<pre>$ xterm
</pre>
<p>Then inspect it with <code>xprop</code>:
</p>
<pre>WM_CLASS(STRING) = "xterm", "XTerm"
</pre>
<p>Now launch xterm with a different <code>instance</code> using the <code>-name</code> argument:
</p>
<pre>$ xterm -name farkleberry
</pre>
<p><code>xprop</code> will report the following:
</p>
<pre>WM_CLASS(STRING) = "farkleberry", "XTerm"
</pre>
<p>Finally, just for laughs, create a softlink that points to xterm, and then launch xterm using the softlink:
</p>
<pre>$ ln -s /usr/bin/xterm barfoo
$ ./barfoo
</pre>
<p><code>xprop</code> will report the following:
</p>
<pre>WM_CLASS(STRING) = "barfoo", "XTerm"
</pre>
<h4><span class="mw-headline" id="type"><code>type</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=11" title="Edit section: type">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>The type of the window.  The window's <code>type</code> is a string, and may have one of the following values:
</p>
<ul><li> <code>desktop</code></li>
<li> <code>dock</code></li>
<li> <code>splash</code></li>
<li> <code>dialog</code></li>
<li> <code>menu</code></li>
<li> <code>toolbar</code></li>
<li> <code>utility</code></li>
<li> <code>dropdown_menu</code></li>
<li> <code>popup_menu</code></li>
<li> <code>tooltip</code></li>
<li> <code>notification</code></li>
<li> <code>combo</code></li>
<li> <code>dnd</code> (drag &amp; drop)</li>
<li> <code>normal</code></li></ul>
<p>A window's type may be changed, but doing so may cause unexpected behavior.
</p>
<h4><span class="mw-headline" id="window"><code>window</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=12" title="Edit section: window">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>A unique ID number identifying <b>that window</b> and no other.  The <code>window</code> value is an integer, is read-only, and is uniquely assigned to the window on its creation.  The ID persists for the life of the window, and is destroyed when the window is closed.  Window IDs are never reused during a given login session.
</p>
<h4><span class="mw-headline" id="role"><code>role</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=13" title="Edit section: role">edit</a><span class="mw-editsection-bracket">]</span></span></h4>
<p>Sometimes set by applications, but typically unused by Awesome.  (Other windows managers may use this property in conjuction with <code>name</code> and <code>class</code> to uniquely identify windows such that they can be saved and restored across login sessions.)
</p><p>In the <code>xprop</code> output, the <code>role</code> is the value of the WM_WINDOW_ROLE property, if present.
</p>
<h3><span class="mw-headline" id="Additional_Properties">Additional Properties</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=14" title="Edit section: Additional Properties">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In addition to the window properties listed on the Lua API documentation page, there are properties provided by awful directly:
</p>
<dl><dt> <code>floating</code></dt>
<dd>  Boolean; changes the floating attribute of the window.</dd>
<dt> <code>tag</code></dt>
<dd>  String; changes the window's tag to the specified value.</dd>
<dt> <code>switchtotag</code></dt>
<dd>  String; switches the desktop to the tag of the specified value.</dd>
<dt> <code>x</code></dt>
<dt> <code>y</code></dt>
<dt> <code>width</code></dt>
<dt> <code>height</code></dt>
<dd>  Integer; changes the window's location/dimensions.</dd>
<dt> <code>focus</code></dt>
<dd>  Boolean; when true, gives the input focus to the matched window.  This property is always applied last, regardless of the order it appears in the <code>properties</code> array.</dd></dl>
<h2><span class="mw-headline" id="Interpreting_rc.lua">Interpreting <code>rc.lua</code></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=15" title="Edit section: Interpreting rc.lua">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>So now that we have a basic understanding of rules, we can better interpret the default set of rules that ships with Awesome.  Let's look at them again:
</p>
<pre>awful.rules.rules = {
    -- All clients will match this rule.
    { rule = { },
      properties = { border_width = beautiful.border_width,
                     border_color = beautiful.border_normal,
                     focus = true,
                     keys = clientkeys,
                     buttons = clientbuttons } },
    { rule = { class = &quot;MPlayer&quot; },
      properties = { floating = true } },
    { rule = { class = &quot;pinentry&quot; },
      properties = { floating = true } },
    { rule = { class = &quot;gimp&quot; },
      properties = { floating = true } },
    -- Set Firefox to always map on tags number 2 of screen 1.
    -- { rule = { class = &quot;Firefox&quot; },
    --   properties = { tag = tags[1][2] } },
}
</pre>
<p>Let's work through them in order.  Again, each rule is composed of two parts -- the matching part and the command part.  The first rule's matching part is as follows:
</p>
<pre>    { rule = { },
</pre>
<p>As mentioned above, a <code>rule</code> with an empty property array will match all windows.  Thus, the following command part will be applied to all windows:
</p>
<pre>      properties = { border_width = beautiful.border_width,
                     border_color = beautiful.border_normal,
                     focus = true,
                     keys = clientkeys,
                     buttons = clientbuttons } },
</pre>
<p>This is a <code>properties</code> operation, so the array of property values it contains will be assigned to the matched window (which in this case is all windows):
</p>
<dl><dt> <code>border_width = beautiful.border_width</code></dt>
<dt> <code>border_color = beautiful.border_normal</code></dt>
<dd>  The window's border width and color are set to the values in the theme currently loaded into <code>beautiful</code>.</dd>
<dt> <code>focus = true</code></dt>
<dd>  The input focus is given to the window.  This may seem slightly confusing until you consider that the rule set is applied not just at Awesome startup, but also to every new window as it is created.  Since we want newly opened windows to have the input focus, we put this property here.</dd>
<dt> <code>keys = clientkeys</code></dt>
<dt> <code>buttons = clientbuttons</code></dt>
<dd>  We bind the set of <code>clientkeys</code> and <code>clientbuttons</code> we created earlier to the window.  This makes all windows have the same UI behavior.</dd></dl>
<p>The rest of the rules are fairly simple.  As mentioned above, there is no early exit in rule processing.  All rules are tested against all windows.  So just because a window matched the <code>rule</code> above doesn't mean we're done.  The next <code>rule</code> is:
</p>
<pre>    { rule = { class = &quot;MPlayer&quot; },
      properties = { floating = true } },
</pre>
<p>For all windows whose <code>class</code> contains "MPlayer", set the floating attribute on the window.  This prevents Awesome from automatically resizing it.
</p>
<pre>    { rule = { class = &quot;pinentry&quot; },
      properties = { floating = true } },
</pre>
<p>For all windows whose <code>class</code> contains "pinentry" (usually a utility that asks for your password), set the floating attribute on the window.
</p>
<pre>    { rule = { class = &quot;gimp&quot; },
      properties = { floating = true } },
</pre>
<p>For all windows whose <code>class</code> contains "gimp", set the floating property on the window.
</p><p>But...  Hang on a second; this looks weird to me.  By convention, most <code>class</code> names are capitalized.  Let's actually launch GIMP 2.8.0 and inspect it using <code>xprop</code>.  GIMP actually opens three windows by default, so let's first look at the main image window:
</p>
<pre>WM_CLASS(STRING) = &quot;gimp&quot;, &quot;Gimp&quot;
</pre>
<p>Interesting.  The <code>instance</code> of GIMP is "gimp", but the <code>class</code> is actually "Gimp" (capitalized).  The other two windows also have the same <code>instance</code> and <code>class</code> values.  That means the <code>rule</code> as specified above <i>won't work.</i>
</p><p>Okay, let's fix it:
</p>
<pre>    { rule = { class = &quot;Gimp&quot; },
      properties = { floating = true } },
</pre>
<p>There, all better.
</p><p>Incidentally, it turns out that GIMP uses the <code>role</code> property to differentiate its windows, so you can use it in your rules:
</p>
<pre>Main Image Window:
WM_WINDOW_ROLE(STRING) = &quot;gimp-image-window&quot;

Toolbox Window:
WM_WINDOW_ROLE(STRING) = &quot;gimp-toolbox&quot;

Dock Window:
WM_WINDOW_ROLE(STRING) = &quot;gimp-dock&quot;
</pre>
<p>BTW, it may have occurred to you that, except for the <code>class</code> name, all of the previous three rules are identical.  As such, they can be collapsed into a single <code>rule_any</code> entry as follows:
</p>
<pre>    { rule_any = { class = {&quot;MPlayer&quot;, &quot;pinentry&quot;, &quot;Gimp&quot;} },
      properties = { floating = true } },
</pre>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=16" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This section lists some more complex examples along with explanations about how they work, to help provide a starting point for more complex setups.
</p>
<h3><span class="mw-headline" id="Using_except">Using <tt>except</tt></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=17" title="Edit section: Using except">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<pre>
{ rule_any = { class = { &quot;psi&quot;, &quot;Psi&quot; } }, except = { instance = &quot;main&quot; },
  callback = awful.client.setslave },
</pre>
<p>This rule is for the Psi IM client.  It makes sure every Psi window is set as a slave window, except the contact list which is left as master.  This allows the contact list to always remain visible and in the same place, even as chat windows are opened and closed, providing the tag has been <a href="/wiki/IM_tips" title="IM tips">configured correctly</a>.
</p><p>In this case, the rule is required to affect these three windows:
</p>
<table class="wikitable">
<tr>
<th> Window type </th>
<th> Properties
</th></tr>
<tr>
<td> Contact list </td>
<td> <pre>
WM_NAME(STRING) = &quot;Psi&quot;
WM_CLASS(STRING) = &quot;main&quot;, &quot;psi&quot;
</pre>
</td></tr>
<tr>
<td> Chat windows </td>
<td> <pre>
WM_NAME(STRING) = &quot;SomePerson&quot;
WM_CLASS(STRING) = &quot;chat&quot;, &quot;psi&quot;
</pre>
</td></tr>
<tr>
<td> History windows </td>
<td> <pre>
WM_NAME(STRING) = &quot;SomePerson (someone@somewhere.net)&quot;
WM_CLASS(STRING) = &quot;psi&quot;, &quot;Psi&quot;
</pre>
</td></tr></table>
<p>You can see here the <tt>class</tt> (second WM_CLASS string) is "psi" for the first two, but "Psi" with a capital P for the third.  So in order to match all these windows, we need to use <tt>rule_any</tt> with both variants, so the rule will match any of the given class names.
</p><p>However we don't want the rule to match the contact list, so we specify an <tt>except</tt> value and use the <tt>instance</tt> (first WM_CLASS string) of the contact list.  We use this value since it is not shared by any of the other windows, so we will only exclude the contact list and nothing else.
</p><p>We now have a rule which will match all Psi windows except for the contact list, so the action we specify for this rule is to call the <tt>awful.client.setslave</tt> function.  This will make the Psi windows slaves, leaving the contact list set to master.
</p>
<h2><span class="mw-headline" id="Related_Pages">Related Pages</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Understanding_Rules&amp;action=edit&amp;section=18" title="Edit section: Related Pages">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt> <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/doc/api/modules/awful.rules.html">awful.rules</a></dt>
<dd>  Lua documentation for the module awful.rules, which implements the rule processing functionality.</dd></dl>
<dl><dt> <a href="/wiki/Example_of_applications_rules" title="Example of applications rules">Example of applications rules</a></dt>
<dd> Various rules for common applications mostly to mark floating windows as such when necessary.</dd></dl>

<!-- 
NewPP limit report
CPU time usage: 0.176 seconds
Real time usage: 0.204 seconds
Preprocessor visited node count: 814/1000000
Preprocessor generated node count: 1696/1000000
Post‐expand include size: 3596/2097152 bytes
Template argument size: 2970/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 49/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:849-0!*!0!!en!5!* and timestamp 20160514173225 and revision id 7233
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Understanding_Rules&amp;oldid=7233">https://awesomewm.org/w/index.php?title=Understanding_Rules&amp;oldid=7233</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Awesome3" title="Category:Awesome3">Awesome3</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Understanding_Rules" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Understanding_Rules&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Understanding_Rules&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Understanding_Rules&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Understanding+Rules" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Understanding_Rules" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Understanding_Rules" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=Understanding_Rules&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Understanding_Rules&amp;oldid=7233" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Understanding_Rules&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 28 December 2014, at 19:48.</li>
									<li id="viewcount">This page has been accessed 41,111 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":118});
}</script></body></html>