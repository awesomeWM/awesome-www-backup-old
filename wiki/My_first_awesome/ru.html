<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Мой первый awesome - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=My_first_awesome/ru&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=My_first_awesome/ru&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/My_first_awesome/ru" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"My_first_awesome/ru","wgTitle":"My first awesome/ru","wgCurRevisionId":6503,"wgRevisionId":6503,"wgArticleId":687,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Outdated"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"My_first_awesome/ru","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-My_first_awesome_ru skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Мой первый awesome</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><table style="border:solid #B22222 2px; background: #FFEEEE; padding: 4px;" width="500" align="center">
<tr>
<td><b> Outdated Page </b><br />The following page has been marked as outdated, it should be updated to apply to the latest version of the awesome window manager.
</td></tr></table>
<div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><a href="/wiki/My_first_awesome" title="My first awesome">English</a></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="ru"><strong class="selflink">русский</strong></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<p><br />
Это небольшое руководство предназначено для людей, которые никогда не использовали тайлинговые менеджеры окон и не обладают продвинутыми способностями и/или желанием глубоко разбираться во всём этом. Мы исследуем замечательный мир awesome шаг за шагом и в конце концов придем к работающему рабочему столу, попутно получив базовые знания в настройке awesome. Мы начнем с дефолтного файла rc.lua, который устанавливается вместе с awesome, поиграем с ним немного и попробуем сделать его более красивым и полезным с помощью виджетов. Для этого руководства вам не нужны никакие умения программирования кроме использования текстового редактора.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#.D0.98.D1.81.D1.81.D0.BB.D0.B5.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_Awesome"><span class="tocnumber">1</span> <span class="toctext">Исследование Awesome</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#.D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.82.D0.B5.D0.BC.D1.8B"><span class="tocnumber">2</span> <span class="toctext">Изменение темы</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#.D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.84.D0.BE.D0.BD.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.B8.D0.B7.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F"><span class="tocnumber">3</span> <span class="toctext">Изменение фонового изображения</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#.D0.9F.D0.B5.D1.80.D1.81.D0.BE.D0.BD.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D1.82.D0.B5.D0.B3.D0.BE.D0.B2"><span class="tocnumber">4</span> <span class="toctext">Персонализация тегов</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#.D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B6.D0.B5.D1.82.D0.BE.D0.B2"><span class="tocnumber">5</span> <span class="toctext">Добавление виджетов</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#.D0.A7.D1.82.D0.BE_.D0.B4.D0.B0.D0.BB.D1.8C.D1.88.D0.B5.3F"><span class="tocnumber">6</span> <span class="toctext">Что дальше?</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id=".D0.98.D1.81.D1.81.D0.BB.D0.B5.D0.B4.D0.BE.D0.B2.D0.B0.D0.BD.D0.B8.D0.B5_Awesome">Исследование Awesome</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=1" title="Edit section: Исследование Awesome">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Я предполагаю, что вы уже установили awesome с помощью пакетного менеджера или скомпилировали из исходников. Теперь добавьте строку <i>exec awesome</i> в ваш <b>~/.xinitrc</b> <i>(Если у вас нет такого файла и вы пользуетесь gdm/xdm/иным менеджером дисплеев, пропустите этот пункт)</i>. Как было сказано выше, awesome предоставляет дефолтный файл конфигурации, от которого мы будем отталкиваться. Вы можете найти этот файл под названием <b>rc.lua</b> в <b>/etc/xdg/awesome/</b>. Скопируйте его в <b>~/.config/awesome/</b> и запускайте Иксы.
</p><p><i>Примечание: awesome сначала грузит файл из пользовательской директории, а потом уже из /etc. То есть, если вы испортите свой пользовательский rc.lua, то awesome загрузится со второго, дефолтного и правильного. Поэтому совет - не редактируйте файл в /etc/xdg/awesome, иначе можете убить awesome совсем!</i>
</p><p>Переместите курсор мыши в левый верхний угол и нажмите по иконке awesome. Откроется небольшое меню. Просмотрите пункты меню, потом нажмите на иконку снова чтобы закрыть его. Справа от иконки вы увидите цифры от 1 до 9. Это ваши теги (или рабочие столы). Вы можете щёлкнуть по одному из них, но ничего не изменится (так как мы еще не открыли ни одной программы). Справа вверху вы можете увидеть дату/время и иконку, которая отображает текущее расположение окон (layout). Вы также можете кликнуть по этой иконке чтобы изменить активное расположение.
</p><p>Одним из преимуществ awesome перед другими тайлинговыми оконными менеджерами является хорошая поддержка мыши. Если пожелаете, awesome может вести себя как полноценный менеджер плавающих окон (почти как openbox). Но на время этого базового руководства мы сфокусируемся в основном на управлении с клавиатуры.
</p><p>Давайте откроем терминал: нажмите <i>Mod4+Enter</i>. Mod4 - это ваша кнопка "Windows", или "Super", находящаяся между Ctrl и Alt. Вы сможете по желанию изменить ваш <b>modkey</b>, но мы вернемся к этому позже. Итак, открылось окно xterm. Конечно же, вы сможете заменить его на другой ваш любимый терминал (опять таки, чуть позже). Теперь нажмите <i>Mod4+Shift+c</i> чтобы закрыть терминал. Эта команда, которая позволяет вам закрыть любое приложение. В awesome есть очень элегантный способ запускать программы: нажать <i>Mod4+r</i> (это аналог Shift+F2 в Gnome, например). Вы увидите надпись <b>Run:</b> вверху на панели awesome. Кроме простого введения комманды, вы также можете дополнять ее Tab-ом.
</p><p>Откройте еще одно приложение. И еще одно. Они нужны нам чтобы проверить тайлинг-возможности. Теперь вы можете нажимать 'Mod4+Space' чтобы просмотреть все возможные расположения окон. Заметьте, как иконка layout'а соответствует тому как программы расположены на экране.
</p><p>Попробуйте комбинации <i>Mod4+h</i>, <i>Mod4+l</i>, <i>Mod4+Shift+h</i> и <i>Mod4+Shift+l</i> для изменения размера окна. Вы также можете изменить размер окна, зажав <b>Mod4</b> и правую клавишу мыши (<b>Button3</b>). <b>Mod4+f</b> развернет текущее окно на весь экран.
</p><p>С помощью <b>Mod4+Number</b> (1-9) вы можете перемещаться между тегами. Комбинация <b>Mod4+Shift+Number</b> (1-9) посылает текущее окно на тег, указаный цифрой. <b>Mod+Left</b> и <b>Mod+Right</b> перемещают вас по тегам влево и вправо соответственно.
</p><p>Используйте <b>Mod4+k</b> и <b>Mod4+j</b> чтобы переключаться между окнами внутри одного тега. Также это можно сделать просто наведя курсором мыши на нужное окно. Эта возможность называется sloppy focus и если она вам не нравится, ее можно будет позже отключить.
</p><p>Чтобы выйти из awesome, нажмите <b>Mod4+Shift+q</b>. Но не спешите делать это, нам следует еще многому научится.
</p><p>Прочитать о всех комбинациях клавиш можно в man-странице awesome (<i>man awesome</i> в консоли). Но учтите - все комбинации клавиш вы сможете вскоре изменить, поэтому не утруждайте себя запоминаем всех комбинаций (а особенно неудобных и непривычных для вас) сейчас.
</p>
<h2><span class="mw-headline" id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.82.D0.B5.D0.BC.D1.8B">Изменение темы</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=2" title="Edit section: Изменение темы">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Вместе с awesome поставляются три темы: <i>default</i>, <i>sky</i>, <i>zenburn</i>. Существует также множество пользовательских тем, которые можно найти на странице <a href="/wiki/Beautiful_themes/ru" title="Beautiful themes/ru"> Темы Beautiful</a>, если английский для вас не составляет особой проблемы, смотрите оригинальную страницу с темами <a href="/wiki/Beautiful_themes" title="Beautiful themes"> Theme Beautiful</a> .
</p><p>Чтобы изменить тему, откройте ваш файл rc.lua (напомним, тот, который находится в директории ~/.config/awesome/) и измените эту строку возле начала файла:
</p>
<pre> beautiful.init("/usr/share/awesome/themes/default/theme.lua")
</pre>
<p>В этом руководстве, мы остановимся на теме по умолчанию. Развернутую информацию о темах в awesome можно найти на странице <a href="/wiki/Beautiful/ru" title="Beautiful/ru">Beautiful</a>.
</p>
<h2><span class="mw-headline" id=".D0.98.D0.B7.D0.BC.D0.B5.D0.BD.D0.B5.D0.BD.D0.B8.D0.B5_.D1.84.D0.BE.D0.BD.D0.BE.D0.B2.D0.BE.D0.B3.D0.BE_.D0.B8.D0.B7.D0.BE.D0.B1.D1.80.D0.B0.D0.B6.D0.B5.D0.BD.D0.B8.D1.8F">Изменение фонового изображения</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=3" title="Edit section: Изменение фонового изображения">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Фоновое изображение вашего рабочего стола задается в файле темы (theme.lua в директории вашей темы).
Чтобы изменить изображение, исправьте эту строку в файле темы:
</p>
<pre> theme.wallpaper_cmd = { "awsetbg /usr/share/awesome/themes/default/background.png" }
</pre>
<h2><span class="mw-headline" id=".D0.9F.D0.B5.D1.80.D1.81.D0.BE.D0.BD.D0.B0.D0.BB.D0.B8.D0.B7.D0.B0.D1.86.D0.B8.D1.8F_.D1.82.D0.B5.D0.B3.D0.BE.D0.B2">Персонализация тегов</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=4" title="Edit section: Персонализация тегов">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Для оптимизации вашего рабочего процесса, вы возможно захотите задать тегам свои имена и установить некоторым из них специфические layout-режимы.
Откройте ваш rc.lua и найдите секцию layout-ов. Она должна выглядеть следующим образом:
</p>
<pre> layouts =
 {
     awful.layout.suit.tile,
     awful.layout.suit.tile.left,
     awful.layout.suit.tile.bottom,
     awful.layout.suit.tile.top,
     awful.layout.suit.fair,
     awful.layout.suit.fair.horizontal,
     awful.layout.suit.spiral,
     awful.layout.suit.spiral.dwindle,
     awful.layout.suit.max,
     awful.layout.suit.max.fullscreen,
     awful.layout.suit.magnifier,
     awful.layout.suit.floating
 }
</pre>
<p>Здесь указаны все возможные варианты расположения окон, которые присутствуют в awesome.
Лично мне не нужные некоторые расположения (например, спиральное). Мы можете закомментировать или удадить некоторые из них если считаете, что никогда не будете их использовать.
</p><p>Это мое личное мнение, и оно может отличаться от вашего, поэтому сначала тщательно протестируйте каждый layout. Пока я оставлю их без изменений.
</p><p>Теперь мы хотим дать имя каждому тегу. Вот как выглядит участок конфига с именами тегов по умолчанию (от 1 до 9):
</p>
<pre> -- {{{ Tags
 -- Define a tag table which will hold all screen tags.
 tags = {}
 for s = 1, screen.count() do
     -- Each screen has its own tag table.
     tags[s] = awful.tag({ 1, 2, 3, 4, 5, 6, 7, 8, 9 }, s)
 end
 -- }}}
</pre>
<p>Мы хотим изменить имена тегов и назначить каждому из них свой layout. По умолчанию, на всех тегах изначально установлено плавающее расположение окон.
Замените верхний участок кода следующим:
</p>
<pre> -- {{{ Tags
 -- Define a tag table which will hold all screen tags.
 tags = {
   names  = { "main", "www", "skype", "gimp", "office", "im", 7, 8, 9 },
   layout = { layouts[1], layouts[2], layouts[1], layouts[5], layouts[6],
              layouts[12], layouts[9], layouts[3], layouts[7]
 }}
 for s = 1, screen.count() do
     -- Each screen has its own tag table.
     tags[s] = awful.tag(tags.names, s, tags.layout)
 end
 -- }}}
</pre>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Awsm_tags.png" class="image"><img alt="screenshot with personalized tags" src="/w/images/thumb/Awsm_tags.png/200px-Awsm_tags.png" width="200" height="160" class="thumbimage" srcset="/w/images/thumb/Awsm_tags.png/300px-Awsm_tags.png 1.5x, /w/images/thumb/Awsm_tags.png/400px-Awsm_tags.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Awsm_tags.png" class="internal" title="Enlarge"></a></div>конфиг по умолчанию с персонализироваными тегами.</div></div></div>
<p>Мы используем массив <i>layouts</i> чтобы задать расположение окон каждому тегу. Число в квадратных скобках - это номер layout-а.
В этом примере мы устанавливаем тегу <i>main</i> расположение <i>tile</i>, тегу <i>www</i> - расположение <i>tile.left</i>, <i>im</i> - плавающее расположение и т.д.
Вы можете настроить это как вам угодно.
</p><p>Пока мы все еще в файле конфигурации, мы также можем изменить терминал по умолчанию, текстовый редактор и назначить другую клавишу в качестве <i>modkey</i>:
</p>
<pre> terminal = "xterm"
 editor = os.getenv("EDITOR") or "nano"
 modkey = "Mod4"
</pre>
<p>Измените эти параметры по вашему вкусу, они говорят сами за себя.
</p><p>Сохраните ваш файл <b>rc.lua</b> и перезапустите awesome (можно выполнить из меню в левом верхнем углу - awesome - restart). Теперь ваш экран должен напоминать скриншот справа.
Обратите внимание, что awesome очень чувствителен к ошибкам в конфигурационном файле. Даже небольшие ошибки могут прекратить его работу. Вы можете уберечь себя от некоторых проблем, связанных с неправильным конфигом, проверив файл на синтаксические ошибки с помощью консольной комманды <b>awesome -k</b>.
</p>
<h2><span class="mw-headline" id=".D0.94.D0.BE.D0.B1.D0.B0.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_.D0.B2.D0.B8.D0.B4.D0.B6.D0.B5.D1.82.D0.BE.D0.B2">Добавление виджетов</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=5" title="Edit section: Добавление виджетов">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Теперь мы хотим добавить некоторую полезную информацию на нашу панель. Это можно сделать с помощью виджетов. Примером таких виджетов могут послужить отображение использования памяти, температуры CPU, заряда батарее и т.д. Вы можете узнать всё о виджетах и их создании на странице <a href="/wiki/Widgets_in_awesome/ru" title="Widgets in awesome/ru"> Виджеты в awesome</a>.
</p><p>Некоторые пользователи создают целые библиотеки виджетов чтобы упростить создание виджетов для других. Существует множетсво подобных библиотек, но в этом руководстве мы остановимся на библиотеке <a href="/wiki/Vicious" title="Vicious">Vicious</a>, так как она предоставляет всё необходимое нам. Как установить Vicious, описывается в этой <a href="/wiki/Vicious" title="Vicious">статье</a>, также Vicious устанавливается с пакетом <b>awesome-extra</b>.
</p><p>Теперь, когда Vicious установлена, добавьте следующую строчку в начало вашего <b>rc.lua</b>:
</p>
<pre>vicious = require("vicious")
</pre>
<p>Нам нужен виджет, который будет отображать текущую скорость сетевой загрузки и выгрузки.
Vicious предоставляет нам <i>netwidget</i> - именно то, что нам нужно.
</p><p>Добавьте этот код в ваш rc.lua после "-- {{{ Wibox" и до "textclock":
</p>
<pre> -- {{{ Wibox
 --  Network usage widget
 -- Initialize widget
 netwidget = widget({ type = "textbox" })
 -- Register widget
 vicious.register(netwidget, vicious.widgets.net, '&lt;span color=&quot;#CC9393&quot;&gt;${eth0 down_kb}&lt;/span&gt; &lt;span color=&quot;#7F9F7F&quot;&gt;${eth0 up_kb}&lt;/span&gt;', 3)
</pre>
<p>Этим мы создали и инициализировали виджет. Но чтобы увидеть его, нам нужно сначала добавить его на наш wibox (<i>wibox - контейнер для виджетов в awesome</i>). После добавления <i>netwidget</i> ваша wibox-секция должна выглядеть следующим образом:
</p>
<pre>     -- Create the wibox
     mywibox[s] = awful.wibox({ position = "top", screen = s })
     -- Add widgets to the wibox - order matters
     mywibox[s].widgets = {
         {
             mylauncher,
             mytaglist[s],
             mypromptbox[s],
             layout = awful.widget.layout.horizontal.leftright
         },
         mylayoutbox[s],
         mytextclock,
         netwidget,       --   Добавьте это и не забудьте запятую в конце!
         s == 1 and mysystray or nil,
         mytasklist[s],
         layout = awful.widget.layout.horizontal.rightleft
     }
 end
 -- }}}
</pre>
<p>Теперь перегрузите awesome и оцените результат.
Также вы можете добавить виджетам красивые иконки (некоторые из них можно найти на странице <a href="/wiki/Nice_Icons/ru" title="Nice Icons/ru">Значки для Awesome</a>). Чтобы отобразить иконки, сначала нужно задать их в нашем файле темы. Откройте ваш файл темы (<b>theme.lua</b>) и добавьте в него следующее:
</p>
<pre> theme.widget_net = "/path/to/icons/down.png"
 theme.widget_netup = "/patch/icons/icons/up.png"
</pre>
<p>Не забудьте изменить <i>/path/to/icons/</i> на реальный путь к иконкам. Обычно это <b>~/.config/awesome/icons/</b>.
</p><p>Теперь добавьте следующие строки в ваш <b>rc.lua</b> туда же, где вы вставили инициализацию вашего виджета:
</p>
<pre> dnicon = widget({ type = "imagebox" })
 upicon = widget({ type = "imagebox" })
 dnicon.image = image(beautiful.widget_net)
 upicon.image = image(beautiful.widget_netup)
</pre>
<p>Теперь добавьте эти виджеты-иконки на wibox, сразу до и после вашего "netwidget". Это будет выглядеть так:
</p>
<pre>   ..
   upicon, netwidget, dnicon,     
   ..
</pre>
<p>Перегрузите awesome чтобы увидеть окончательный результат.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:202px;"><a href="/wiki/File:Awsm_final.png" class="image"><img alt="screenshot of the final desktop with tags and vicious widget" src="/w/images/thumb/Awsm_final.png/200px-Awsm_final.png" width="200" height="160" class="thumbimage" srcset="/w/images/thumb/Awsm_final.png/300px-Awsm_final.png 1.5x, /w/images/thumb/Awsm_final.png/400px-Awsm_final.png 2x" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:Awsm_final.png" class="internal" title="Enlarge"></a></div>наш конечный рабочий стол с виджетом сетевой загрузки, иконками и разделителем.</div></div></div>
<p>Последнее, что мы хотим сделать - это добавить разделитель между netwidget-ом и часами. Мы сделаем это с помощью обычного текстового виджета.
Добавьте эти строки в <b>rc.lua</b> туда же, где находится ваш предыдущий виджет:
</p>
<pre> <b>Awsome &lt; 3.5</b>
 separator = widget({ type = "textbox" })
 separator.text  = "&#160;:: "
 <b>Awesome 3.5</b>
 separator = wibox.widget.textbox()
 separator:set_text("&#160;:: ")
</pre>
<p>И теперь разместим разделитель на wibox-е:
</p>
<pre>   ..
   separator, upicon, netwidget, dnicon,
   ..
</pre>
<p>На этом всё. Вы научились как добавлять виджеты на вашу панель awesome.
Прочтите статью <a href="/wiki/Vicious" title="Vicious">Vicious</a> и файл Readme чтобы узнать как добавлять остальные виджеты.
Также вы можете ознакомиться с библиотекой виджетов <a href="/wiki/Obvious" title="Obvious">Obvious</a>, которая также достаточно проста в использовании.
</p>
<h2><span class="mw-headline" id=".D0.A7.D1.82.D0.BE_.D0.B4.D0.B0.D0.BB.D1.8C.D1.88.D0.B5.3F">Что дальше?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit&amp;section=6" title="Edit section: Что дальше?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Теперь вы можете самостоятельно изучать богатые возможности самого увлекательного тайлингового менеджера awesome.
В этом вам будет помогать эта wiki, которая является самым полным информационным ресурсом по awesome. Большинство ответов на ваши вопросы вы можете получить прямо на <a href="/wiki/Main_Page/ru" title="Main Page/ru">главной странице</a>. Если вы не нашли ответ на свой вопрос на вики, смело обращайтесь за помощью на почтовую рассылку <i>awesome@naquadah.org</i> (чтобы подписаться, отправьте письмо на <i>awesome-subscribe@naquadah.org</i>) - сообщество awesome всегда радо помочь новичкам (правда исключительно на английском). Также вы можете написать на русском автору перевода данной статьи на почту <i>yakushev.alex{ear}gmail.com</i>.
</p><p>Удачи вам в освоении awesome!
</p>
<!-- 
NewPP limit report
CPU time usage: 0.108 seconds
Real time usage: 0.173 seconds
Preprocessor visited node count: 654/1000000
Preprocessor generated node count: 1414/1000000
Post‐expand include size: 3714/2097152 bytes
Template argument size: 2520/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 48/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:687-0!*!0!!en!5!* and timestamp 20160515112023 and revision id 6503
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=My_first_awesome/ru&amp;oldid=6503">https://awesomewm.org/w/index.php?title=My_first_awesome/ru&amp;oldid=6503</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/w/index.php?title=Category:Outdated&amp;action=edit&amp;redlink=1" class="new" title="Category:Outdated (page does not exist)">Outdated</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/My_first_awesome/ru" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:My_first_awesome/ru&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=My_first_awesome/ru&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=My_first_awesome/ru&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=My+first+awesome%2Fru" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/My_first_awesome/ru" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/My_first_awesome/ru" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=My_first_awesome/ru&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=My_first_awesome/ru&amp;oldid=6503" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=My_first_awesome/ru&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 14 May 2014, at 10:23.</li>
									<li id="viewcount">This page has been accessed 30,750 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":87});
}</script></body></html>