<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Wicked - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<meta name="robots" content="noindex,follow" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Wicked/fr&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Wicked/fr&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Wicked/fr" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Wicked/fr","wgTitle":"Wicked/fr","wgCurRevisionId":4331,"wgRevisionId":4331,"wgArticleId":392,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Awesome3"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Wicked/fr","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Wicked_fr skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Wicked</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><a href="/wiki/Wicked" title="Wicked">English</a></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="fr"><strong class="selflink">français</strong></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="zh-hans"><a href="/wiki/Wicked/zh-hans" title="Wicked/zh-hans">中文（简体）‎</a></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<p>Wicked est une bibliothèque Lua, ce qui signifie que vous pouvez l’inclure dans <b><a href="/wiki/Awesome_3_configuration/fr" title="Awesome 3 configuration/fr">rc.lua</a></b> à l’aide de <i>require()</i> et mettre en place vos widgets depuis le même fichier de configuration sans avoir à lancer un programme annexe avec des fichiers de configuration extérieurs.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#R.C3.A9cup.C3.A9rer_Wicked"><span class="tocnumber">1</span> <span class="toctext">Récupérer Wicked</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Debian"><span class="tocnumber">1.1</span> <span class="toctext">Debian</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Arch_Linux"><span class="tocnumber">1.2</span> <span class="toctext">Arch Linux</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Source_Mage_GNU.E2.80.93Linux"><span class="tocnumber">1.3</span> <span class="toctext">Source Mage GNU–Linux</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Gentoo_Linux"><span class="tocnumber">1.4</span> <span class="toctext">Gentoo Linux</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Manuellement"><span class="tocnumber">1.5</span> <span class="toctext">Manuellement</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Mettre_en_place_Wicked"><span class="tocnumber">2</span> <span class="toctext">Mettre en place Wicked</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Cr.C3.A9er_des_widgets"><span class="tocnumber">3</span> <span class="toctext">Créer des widgets</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="#Exemple_de_widget_de_date"><span class="tocnumber">3.1</span> <span class="toctext">Exemple de widget de date</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Exemple_de_.C2.AB.C2.A0lecture_en_cours.C2.A0.C2.BB_pour_MPD"><span class="tocnumber">3.2</span> <span class="toctext">Exemple de « lecture en cours » pour MPD</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Exemple_de_moniteur_d.E2.80.99utilisation_m.C3.A9moire"><span class="tocnumber">3.3</span> <span class="toctext">Exemple de moniteur d’utilisation mémoire</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Exemple_de_barre_d.E2.80.99utilisation_de_m.C3.A9moire"><span class="tocnumber">3.4</span> <span class="toctext">Exemple de barre d’utilisation de mémoire</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="#Exemple_d.E2.80.99utilisation_du_processeur"><span class="tocnumber">3.5</span> <span class="toctext">Exemple d’utilisation du processeur</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Exemple_de_graphe_d.E2.80.99utilisation_du_processeur"><span class="tocnumber">3.6</span> <span class="toctext">Exemple de graphe d’utilisation du processeur</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Exemple_d.E2.80.99utilisation_d.E2.80.99un_syst.C3.A8me_de_fichiers"><span class="tocnumber">3.7</span> <span class="toctext">Exemple d’utilisation d’un système de fichiers</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Exemple_de_moniteur_d.E2.80.99interface_r.C3.A9seau"><span class="tocnumber">3.8</span> <span class="toctext">Exemple de moniteur d’interface réseau</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Exemple_de_charge_de_batterie"><span class="tocnumber">3.9</span> <span class="toctext">Exemple de charge de batterie</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Widgets_personnalis.C3.A9s"><span class="tocnumber">4</span> <span class="toctext">Widgets personnalisés</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Gel_d.E2.80.99awesome"><span class="tocnumber">5</span> <span class="toctext">Gel d’awesome</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Suspendre_temporairement_Wicked"><span class="tocnumber">6</span> <span class="toctext">Suspendre temporairement Wicked</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="R.C3.A9cup.C3.A9rer_Wicked">Récupérer Wicked</span></h2>
<h3><span class="mw-headline" id="Debian">Debian</span></h3>
<p>Wicked est disponible pour awesome 3 <i>via</i> le paquet <i>awesome-extra</i> disponible pour <i>testing</i> (actuellement « Squeeze ») et <i>sid</i>. Pour la version stable actuelle de Debian (« Lenny »), vous pouvez utiliser un <i>backport</i>. Pour cela, en <i>root</i>&#160;:
</p>
<ul><li> ajoutez le dépôt suivant à /etc/apt/sources.list&#160;:</li></ul>
<pre>deb <a rel="nofollow" class="external free" href="http://corvix.eu">http://corvix.eu</a> testing ware
</pre>
<ul><li> et installez wicked par&#160;:</li></ul>
<pre>aptitude update
aptitude safe-upgrade
aptitude install awesome awesome-wicked
</pre>
<ul><li> pour vous débarrasser de l’avertissement concernant la clé de signature, ajoutez la clé&#160;:</li></ul>
<pre>gpg --keyserver pgpkeys.mit.edu --recv-key 974E7D68
gpg -a --export 974E7D68 | sudo apt-key add -
</pre>
<p>Son empreinte devrait être&#160;: 0189 4F9A 5CFD 0242 5BEA 39E6 37A4 6DF5 974E 7D68
</p>
<h3><span class="mw-headline" id="Arch_Linux">Arch Linux</span></h3>
<p>Si vous utilisez Arch Linux, un PKGBUILD est déjà disponible sur aur, récupérez-le <a rel="nofollow" class="external text" href="http://aur.archlinux.org/packages.php?ID=17232">ici</a>.
</p><p>Dépôts&#160;:
</p>
<pre>[awesome]
#awesome3
Server = <a rel="nofollow" class="external free" href="http://www.camazotz.de/awesome/">http://www.camazotz.de/awesome/</a>
</pre>
<pre>[deelab]
#awesome-git
Server = <a rel="nofollow" class="external free" href="http://www.deelab.org/arch/i686">http://www.deelab.org/arch/i686</a>
</pre>
<h3><span class="mw-headline" id="Source_Mage_GNU.E2.80.93Linux">Source Mage GNU–Linux</span></h3>
<p>Tout ce que vous avez à faire est <i>cast wicked</i>.
</p>
<h3><span class="mw-headline" id="Gentoo_Linux">Gentoo Linux</span></h3>
<p>Un paquet pour Gentoo est disponible <a rel="nofollow" class="external text" href="http://overlays.gentoo.org/dev/matsuu/browser/awesome/x11-plugins/wicked/wicked-9999.ebuild">ici</a>.
</p>
<h3><span class="mw-headline" id="Manuellement">Manuellement</span></h3>
<p>Si vous voulez récupérer la bibliothèque séparément, vous pouvez la télécharger depuis le dépôt git à l’adresse <a rel="nofollow" class="external free" href="http://git.glacicle.com/?p=awesome/wicked.git;a=summary">http://git.glacicle.com/?p=awesome/wicked.git;a=summary</a>.
</p><p>Pour l’installer manuellement&#160;:
</p>
<pre>git clone <a rel="nofollow" class="external free" href="git://git.glacicle.com/awesome/wicked.git">git://git.glacicle.com/awesome/wicked.git</a>
sudo cp wicked/wicked.lua /usr/share/awesome/lib/
sudo cp wicked/wicked.7.gz /usr/share/man/man7/
</pre>
<h2><span class="mw-headline" id="Mettre_en_place_Wicked">Mettre en place Wicked</span></h2>
<p>Pour mettre en place wicked, c’est simple&#160;; ajoutez simplement la ligne suivante au début de votre fichier de configuration <b><a href="/wiki/Awesome_3_configuration/fr" title="Awesome 3 configuration/fr">rc.lua</a></b> et vous êtes prêt pour la suite&#160;:
</p>
<pre>require("wicked")
</pre>
<h2><span class="mw-headline" id="Cr.C3.A9er_des_widgets">Créer des widgets</span></h2>
<p>Il est aisé de créer des widgets en ajouter des appels de fonction à votre <b><a href="/wiki/Awesome_3_configuration/fr" title="Awesome 3 configuration/fr">rc.lua</a></b>. Vous trouverez des exemples ci-dessous&#160;; pour plus d’information sur les types et options de widgets disponibles, regardez le manuel de wicked après l’avoir installée. N’oubliez pas que vous devrez ensuite ajouter les widgets à la barre de statut.
</p><p>Il est mieux d’apprendre par l’exemple&#160;; vous pouvez récupérer la <a rel="nofollow" class="external text" href="http://git.glacicle.com/other/configs.git/.config/awesome/rc_31.lua">configuration actuelle</a> de l’auteur.
</p>
<h3><span class="mw-headline" id="Exemple_de_widget_de_date">Exemple de widget de date</span></h3>
<p>Le widget suivant affiche la date actuelle dans la barre de statut, en ayant recours à la commande <i>date</i>.
</p>
<pre>
datewidget = widget({
    type = 'textbox',
    name = 'datewidget'
})

wicked.register(datewidget, wicked.widgets.date,
    ' &lt;span color=&quot;white&quot;&gt;Date&#160;:&lt;/span&gt;&#160;%c')
</pre>
<h3><span class="mw-headline" id="Exemple_de_.C2.AB.C2.A0lecture_en_cours.C2.A0.C2.BB_pour_MPD">Exemple de « lecture en cours » pour MPD</span></h3>
<p>Le widget suivant est un widget simple qui affiche la musique actuellement en cours de lecture dans Music Playing Daemon.
</p>
<pre>
mpdwidget = widget({
    type = 'textbox',
    name = 'mpdwidget'
})

wicked.register(mpdwidget, wicked.widgets.mpd,
    ' &lt;span color=&quot;white&quot;&gt;En cours de lecture&#160;:&lt;/span&gt; $1')
</pre>
<p>Si vous voulez un peu plus de fantaisie et n’afficher la musique actuelle que lorsqu’elle est effectivement diffusée, changez l’appel&#160;:
</p>
<pre>
wicked.register(mpdwidget, wicked.widgets.mpd, 
	function (widget, args)
		   if args[1]:find(&quot;volume:&quot;) == nil then
		      return ' &lt;span color=&quot;white&quot;&gt;En cours de lecture&#160;:&lt;/span&gt; '..args[1]
		   else
                      return ''
                   end
		end)
</pre>
<h3><span class="mw-headline" id="Exemple_de_moniteur_d.E2.80.99utilisation_m.C3.A9moire">Exemple de moniteur d’utilisation mémoire</span></h3>
<p>Le widget suivant affiche l’utilisation actuelle en pourcentage et méga-octets de la mémoire par rapport au total disponible&#160;:
</p>
<pre>
memwidget = widget({
    type = 'textbox',
    name = 'memwidget'
})

wicked.register(memwidget, wicked.widgets.mem,
    ' &lt;span color=&quot;white&quot;&gt;Mémoire&#160;:&lt;/span&gt; $1 ($2Mo/$3Mo)')
</pre>
<p>Si vous voulez que les valeurs aient deux, quatre et quatre chiffres respectivement, vous pouvez utiliser&#160;:
</p>
<pre>
memwidget = widget({
    type = 'textbox',
    name = 'memwidget'
})

wicked.register(memwidget, wicked.widgets.mem,
    ' &lt;span color=&quot;white&quot;&gt;Mémoire&#160;:&lt;/span&gt; $1 ($2Mo/$3Mo)',
nil, nil, {2, 4, 4})
</pre>
<h3><span class="mw-headline" id="Exemple_de_barre_d.E2.80.99utilisation_de_m.C3.A9moire">Exemple de barre d’utilisation de mémoire</span></h3>
<p>Le widget suivant affiche l’utilisation relative de la mémoire sous forme de barre de progression&#160;:
</p>
<pre>
membarwidget = widget({
    type = 'progressbar',
    name = 'membarwidget',
    align = 'right'
})

membarwidget:properties_set('mem', {
width = 40,
height = 0.65,
gap = 0,
border_padding = 1,
border_width = 1,
ticks_count = 0,
ticks_gap = 0,
vertical = false
})

membarwidget:bar_properties_set('mem', {
bg = '#222222',
fg = '#285577',
fg_center = '#285577',
fg_end = '#285577',
fg_off = '#222222',
reverse = false,
min_value = 0,
max_value = 100
})

wicked.register(membarwidget, wicked.widgets.mem, '$1', 1, 'mem')
</pre>
<h3><span class="mw-headline" id="Exemple_d.E2.80.99utilisation_du_processeur">Exemple d’utilisation du processeur</span></h3>
<p>Le widget suivant affiche l’utilisation actuelle du processeur, en pourcentage&#160;:
</p>
<pre>
cpuwidget = widget({
    type = 'textbox',
    name = 'cpuwidget'
})

wicked.register(cpuwidget, wicked.widgets.cpu,
    ' &lt;span color=&quot;white&quot;&gt;CPU&#160;:&lt;/span&gt; $1%')
</pre>
<h3><span class="mw-headline" id="Exemple_de_graphe_d.E2.80.99utilisation_du_processeur">Exemple de graphe d’utilisation du processeur</span></h3>
<p>Le widget suivant affiche un graphique avec l’utilisation actuelle du processeur&#160;:
</p>
<pre>
cpugraphwidget = widget({
    type = 'graph',
    name = 'cpugraphwidget',
    align = 'right'
})

cpugraphwidget.height = 0.85
cpugraphwidget.width = 45
cpugraphwidget.bg = '#333333'
cpugraphwidget.border_color = '#0a0a0a'
cpugraphwidget.grow = 'left'

cpugraphwidget:plot_properties_set('cpu', {
    fg = '#AEC6D8',
    fg_center = '#285577',
    fg_end = '#285577',
    vertical_gradient = false
})

wicked.register(cpugraphwidget, wicked.widgets.cpu, '$1', 1, 'cpu')
</pre>
<h3><span class="mw-headline" id="Exemple_d.E2.80.99utilisation_d.E2.80.99un_syst.C3.A8me_de_fichiers">Exemple d’utilisation d’un système de fichiers</span></h3>
<p>Le widget suivant affiche l’espace utilisé sur la partition montée en <b>/</b> sur l’espace total, ainsi que le pourcentage utilisé&#160;:
</p>
<pre>
fswidget = widget({
    type = 'textbox',
    name = 'fswidget'
})

wicked.register(fswidget, wicked.widgets.fs,
    ' &lt;span color=&quot;white&quot;&gt;Système&#160;:&lt;/span&gt; ${/ used}/${/ size} (${/ usep} utilisé)', 120)
</pre>
<h3><span class="mw-headline" id="Exemple_de_moniteur_d.E2.80.99interface_r.C3.A9seau">Exemple de moniteur d’interface réseau</span></h3>
<p>Le widget suivant affiche la vitesse actuelle sur <b>eth0</b>, ainsi que les totaux de transfert de la connexion. Le dernier argument force l’affichage des nombres avec trois chiffres :
</p>
<pre>
netwidget = widget({
    type = 'textbox',
    name = 'netwidget'
})

wicked.register(netwidget, wicked.widgets.net, 
    ' &lt;span color=&quot;white&quot;&gt;NET&lt;/span&gt;&#160;: ${eth0 down} / ${eth0 up} [ ${eth0 rx} //  ${eth0 tx} ]',
nil, nil, 3)
</pre>
<h3><span class="mw-headline" id="Exemple_de_charge_de_batterie">Exemple de charge de batterie</span></h3>
<p>Le widget suivant affiche la charge des batteries :
</p>
<pre>
batteries = 2

-- Fonction pour extraire le pourcentage de charge
function read_battery_life(number)
   return function(format)
             local fh = io.popen('acpi')
             local output = fh:read(&quot;*a&quot;)
             fh:close()

             count = 0
             for s in string.gmatch(output, &quot;(%d+)%%&quot;) do
                if number == count then
                   return {s}
                end
                count = count + 1
             end
          end
end

-- Affiche une barre de progression verticale par batterie
for battery=0, batteries-1 do
   batterygraphwidget = widget({ type = 'progressbar',
                                 name = 'batterygraphwidget',
                                 align = 'right' })
   batterygraphwidget.height = 0.85
   batterygraphwidget.width = 8
   batterygraphwidget.bg = '#333333'
   batterygraphwidget.border_color = '#0a0a0a'
   batterygraphwidget.vertical = true
   batterygraphwidget:bar_properties_set('battery',
                                         { fg = '#AEC6D8',
                                           fg_center = '#285577',
                                           fg_end = '#285577',
                                           fg_off = '#222222',
                                           vertical_gradient = true,
                                           horizontal_gradient = false,
                                           ticks_count = 0,
                                           ticks_gap = 0 })

   wicked.register(batterygraphwidget, read_battery_life(battery), '$1', 1, 'battery')
end
</pre>
<h2><span class="mw-headline" id="Widgets_personnalis.C3.A9s">Widgets personnalisés</span></h2>
<p>Vous pouvez créer vos propres widgets personnalisés en passant vos fonctions en type « paramètre ». De cette façon, vous pouvez spécifier n’importe quelle commande à sortir sous forme de widget, à n’importe quel intervalle. L’exemple suivant affiche le volume d’alsa toutes les quatre secondes&#160;; il est récupéré en lançant la commande <i>amixer</i> et en en interprétant la sortie. Cet exemple nécessite alsa-utils.
</p>
<pre>
volumewidget = widget({
    type = 'textbox',
    name = 'volumewidget'
})

function amixer_volume(format)
   local f = io.popen('amixer get PCM')
   local l = f:lines()
   local v = ''

   for line in l do
       if line:find('Front Left:') ~= nil then
            pend = line:find('%]', 0, true)
            pstart = line:find('[', 0, true)
            v = line:sub(pstart+1, pend)
       end
   end

   f:close()

   return {v}
end


wicked.register(volumewidget, amixer_volume, &quot;&lt;span color='white'&gt;Volume&lt;/span&gt;&#160;: $1&quot;, 4)
</pre>
<p>Vous pouvez utiliser ce qui suit pour lancer n’importe quel script externe que vous avez écrit, pour récupérer des données et les afficher&#160;:
</p>
<pre>
mywidget = widget({
    type = 'textbox',
    name = 'mywidget'
})
 
function run_script()
    local filedescriptor = io.popen('mon_petit_script_sympa.py')
    local value = filedescriptor:read()
    filedescriptor:close()

    return {value}
end
 
-- Exécute « mon_petit_script_sympa.py » toutes les 10 secondes et envoie sa sortie dans le widget
wicked.register(mywidget, run_script, &quot;$1&quot;, 10)
</pre>
<h2><span class="mw-headline" id="Gel_d.E2.80.99awesome">Gel d’awesome</span></h2>
<p>Awesome attend que le code Lua soit fini avant de se relancer, donc si un script lent s’exécute, cela peut potentiellement ralentir ou geler awesome. Dans ce cas, vous pouvez utiliser un processus de fond et un fichier temporaire pour remédier à ce problème.
</p><p>Utilisez le code suivant pour lancer un script lent de votre choix, sans geler awesome :
</p>
<pre>
mywidget = widget({
    type = 'textbox',
    name = 'mywidget'
})

function run_slow_script (widget, args) 
   -- Lit le fichier temporaire laissé par le script
   local filedescriptor = io.open('/tmp/script-temp-file')
   local value = nil

   if filedescriptor ~= nil then
      value = filedescriptor:read()
   end

   filedescriptor:close()

   if value == nil then
      return {''}
   else
      return {value}
   end
end

-- Lance « mon_script_lent.py » toutes les 10 secondes et envoie son résultat dans le widget
wicked.register(mywidget, run_slow_script, &quot;$1&quot;, 10)

-- Demande à ce qu’un compteur soit lancé toutes les 9 secondes
awful.hooks.timer.register(9, mywidget_timer)

-- Utilise le compteur pour remplir le fichier temporaire
function mywidget_timer ()
   os.execute('mon_script_lent.py &gt; /tmp/script-temp-file &amp;')
end
</pre>
<h2><span class="mw-headline" id="Suspendre_temporairement_Wicked">Suspendre temporairement Wicked</span></h2>
<p>Si vous êtes paranoïaque sur l’utilisation de la batterie et que vous préférez que wicked ne lance pas de programme en fond à chaque fois que vous êtes sur la batterie, vous pouvez suspendre temporairement toute mise à jour de wicked en utilisant <i>wicked.suspend()</i> avec un raccourci. Vous pouvez relancer tout ce qui a été suspendu avec <i>wicked.activate()</i>.
</p><p>En utilisant <i>awesome-client</i>, vous pouvez appeler tout cela automatiquement, disons par exemple depuis un script Hal. Vous pouvez par exemple faire ça de cette façon&#160;:
</p>
<pre>
#!/bin/bash
echo &quot;wicked.suspend()&quot; | awesome-client
</pre>
<p>Remplacez simplement « suspend » par « activate » là où il faut.
</p>
<!-- 
NewPP limit report
CPU time usage: 0.136 seconds
Real time usage: 0.157 seconds
Preprocessor visited node count: 828/1000000
Preprocessor generated node count: 1714/1000000
Post‐expand include size: 3149/2097152 bytes
Template argument size: 1053/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 48/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:392-0!*!0!!en!5!* and timestamp 20160514161103 and revision id 4331
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Wicked/fr&amp;oldid=4331">https://awesomewm.org/w/index.php?title=Wicked/fr&amp;oldid=4331</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Awesome3" title="Category:Awesome3">Awesome3</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Wicked/fr" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Wicked/fr&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Wicked/fr&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Wicked/fr&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Wicked%2Ffr&amp;returntoquery=printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Wicked/fr" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Wicked/fr" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Wicked/fr&amp;oldid=4331" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Wicked/fr&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 24 June 2010, at 03:06.</li>
									<li id="viewcount">This page has been accessed 4,859 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;printable=1\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":107});
}</script></body></html>