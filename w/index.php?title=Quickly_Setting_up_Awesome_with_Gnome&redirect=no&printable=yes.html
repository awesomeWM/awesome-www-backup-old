<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Quickly Setting up Awesome with Gnome - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<meta name="robots" content="noindex,follow" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Quickly_Setting_up_Awesome_with_Gnome" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;printable=1&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;printable=1&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Quickly_Setting_up_Awesome_with_Gnome","wgTitle":"Quickly Setting up Awesome with Gnome","wgCurRevisionId":6161,"wgRevisionId":6161,"wgArticleId":217,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":[],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Quickly_Setting_up_Awesome_with_Gnome","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Quickly_Setting_up_Awesome_with_Gnome skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Quickly Setting up Awesome with Gnome</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><strong class="selflink">English</strong></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="fr"><a href="/wiki/Quickly_Setting_up_Awesome_with_Gnome/fr" title="Quickly Setting up Awesome with Gnome/fr">français</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="ru"><a href="/wiki/Quickly_Setting_up_Awesome_with_Gnome/ru" title="Quickly Setting up Awesome with Gnome/ru">русский</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<p>Setting up Awesome as Gnome's window manager gives you advantages from both worlds:
</p>
<ul><li>Dynamic window managing;</li>
<li>Easily configurable desktop;</li>
<li>Autostart goodness;</li>
<li><a href="/wiki/Customizing_GTK_Apps" title="Customizing GTK Apps">GTK theming</a> without the fuss.</li></ul>
<p>Of course, your login time gets worse, as you need to start up Gnome, but for some that may be well worth it.
</p><p>How exactly you can configure such a setup depends on your Gnome version, but the overall process is similar.
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Configuration:_gnome_.3C_2.12"><span class="tocnumber">1</span> <span class="toctext">Configuration: gnome &lt; 2.12</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Configuration:_2.12_.3C.3D_gnome_.3C_3"><span class="tocnumber">2</span> <span class="toctext">Configuration: 2.12 &lt;= gnome &lt; 3</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Normally"><span class="tocnumber">2.1</span> <span class="toctext">Normally</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#If_clients_override_on_your_gnome_panel"><span class="tocnumber">2.2</span> <span class="toctext">If clients override on your gnome panel</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#without_gdm"><span class="tocnumber">2.2.1</span> <span class="toctext">without gdm</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#with_gdm"><span class="tocnumber">2.2.2</span> <span class="toctext">with gdm</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Configuration:_3.0_.3C.3D_gnome_.3C_3.4"><span class="tocnumber">3</span> <span class="toctext">Configuration: 3.0 &lt;= gnome &lt; 3.4</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="#gnome-session_session"><span class="tocnumber">3.1</span> <span class="toctext">gnome-session session</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Display_manager_session"><span class="tocnumber">3.2</span> <span class="toctext">Display manager session</span></a>
<ul>
<li class="toclevel-3 tocsection-10"><a href="#Arch_Linux"><span class="tocnumber">3.2.1</span> <span class="toctext">Arch Linux</span></a></li>
<li class="toclevel-3 tocsection-11"><a href="#Debian"><span class="tocnumber">3.2.2</span> <span class="toctext">Debian</span></a></li>
<li class="toclevel-3 tocsection-12"><a href="#Gentoo_Linux"><span class="tocnumber">3.2.3</span> <span class="toctext">Gentoo Linux</span></a></li>
<li class="toclevel-3 tocsection-13"><a href="#Ubuntu_11.10"><span class="tocnumber">3.2.4</span> <span class="toctext">Ubuntu 11.10</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Gnome_3.9_.2F_Ubuntu_13.10"><span class="tocnumber">4</span> <span class="toctext">Gnome 3.9 / Ubuntu 13.10</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Finally"><span class="tocnumber">5</span> <span class="toctext">Finally</span></a></li>
<li class="toclevel-1 tocsection-16"><a href="#Going_Forward"><span class="tocnumber">6</span> <span class="toctext">Going Forward</span></a></li>
<li class="toclevel-1 tocsection-17"><a href="#Problems"><span class="tocnumber">7</span> <span class="toctext">Problems</span></a></li>
<li class="toclevel-1 tocsection-18"><a href="#GNOME_Awesome_Applet"><span class="tocnumber">8</span> <span class="toctext">GNOME Awesome Applet</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Configuration:_gnome_.3C_2.12">Configuration: gnome &lt; 2.12</span></h2>
<p>These commands will change some settings in gconf in order to set up awesome as the default window manager and disable Nautilus' naughty root window behaviour. If your version of gnome is older than 2.12, this should do the trick.
</p>
<pre> gconftool-2 --type bool --set /apps/nautilus/preferences/show_desktop False 
 # Disable buggy Nautilus desktop thing
 gconftool-2 --type string --set /desktop/gnome/applications/window_manager/current /usr/bin/awesome
 # Set awesome as your WM of choice -- note that you may be using /usr/local/bin/awesome if you compiled it yourself
</pre>
<h2><span class="mw-headline" id="Configuration:_2.12_.3C.3D_gnome_.3C_3">Configuration: 2.12 &lt;= gnome &lt; 3</span></h2>
<h3><span class="mw-headline" id="Normally">Normally</span></h3>
<p>If you use a more recent version of gnome, you can try
</p>
<pre> gconftool-2 --type bool --set /apps/nautilus/preferences/show_desktop False
 # Still disable the buggy Nautilus desktop thing
 gconftool-2 --type string --set /desktop/gnome/session/required_components/windowmanager awesome
 # sets awesome as wm
</pre>
<p>Obviously, if you prefer graphical stuff (I doubt it, you're using awesome!) you can use gconf-editor.
</p><p>If your distribution doesn't provide /usr/share/applications/awesome.desktop, 
then you'll also have to add ~/.local/share/applications/awesome.desktop
</p>
<pre> [Desktop Entry]
 Version=1.0
 Type=Application
 Name=Awesome
 Comment=The awesome launcher!
 TryExec=awesome
 Exec=awesome
</pre>
<h3><span class="mw-headline" id="If_clients_override_on_your_gnome_panel">If clients override on your gnome panel</span></h3>
<h4><span class="mw-headline" id="without_gdm">without gdm</span></h4>
<p>Try launching awesome outside gnome. Keep the gconftool lines, but forget about the ~/.config/autostart/awesome.desktop, and instead, use ~/.xinitrc:
</p>
<pre> #!/bin/sh
 awesome &amp;
 exec ck-launch-session gnome-session # ck-launch-session is advised for the dbus stuff to work fine.
</pre>
<p>Don't forget to make it executable:
</p>
<pre> chmod +x ~/.xinitrc
</pre>
<p>Launch the whole thing with startx.
</p>
<h4><span class="mw-headline" id="with_gdm">with gdm</span></h4>
<p>Additionnally, if you use gdm, tell it to run the default system session. The last version might not allow you to do that and you need to add the file /usr/share/xsessions/xsession.desktop
</p>
<pre> [Desktop Entry]
 Name=Xsession
 Comment=This runs ~/.xsession
 Exec=/etc/X11/Xsession
</pre>
<p>Add this file and choose to run Xsession, and link ~/.xsession to .xinitrc
</p>
<pre> ln -s ~/.xsession ~/.xinitrc
</pre>
<h2><span class="mw-headline" id="Configuration:_3.0_.3C.3D_gnome_.3C_3.4">Configuration: 3.0 &lt;= gnome &lt; 3.4</span></h2>
<p>Go to System Settings -&gt; System Info -&gt; Graphics -&gt; Forced Fallback Mode ON. This disables the Gnome 3 Shell, which is incompatible with exotic window managers (or any window manager but Mutter, for that matter).
</p><p>Now, the easiest way is to create a file called .gnomerc in your $HOME with the following contents:
</p>
<pre>
export WINDOW_MANAGER=/usr/local/bin/awesome-wm
</pre>
<p>Then you can create an executable script at /usr/local/bin/awesome-wm with the following content:
</p>
<pre>
#!/bin/sh
awesome &amp;
</pre>
<h3><span class="mw-headline" id="gnome-session_session">gnome-session session</span></h3>
<p>You can also tell "gnome-session" about awesome through a session file. Save the following as /usr/share/gnome-session/sessions/awesome.session or ~/.config/gnome-session/sessions/awesome.session:
</p>
<pre>
[GNOME Session]
Name=Awesome session
RequiredComponents=gnome-settings-daemon;
RequiredProviders=windowmanager;notifications;
DefaultProvider-windowmanager=awesome
DefaultProvider-notifications=notification-daemon
</pre>
<p>Note that this also disables gnome-panel. If you want to use it, add "gnome-panel;" to the RequiredComponents line.
</p><p>Then tell gnome-session to use your new session by default, by running the following command:
</p>
<pre>
gsettings set org.gnome.desktop.session session-name awesome 
</pre>
<p>Note that this uses the new gsettings framework, not the old gconf one.
</p><p>Doing this means that selecting "Gnome" in your display manager now runs awesome.
</p>
<h3><span class="mw-headline" id="Display_manager_session">Display manager session</span></h3>
<p>Instead of changing the "Gnome" xsession in you display manager, you can also create a new xsession. This allows you to choose between regular gnome and awesome from the login prompt.
</p><p>Save the awesome.session file as described in the previous section.
</p><p>Save the following as /usr/share/applications/awesome.desktop (your distribution might already provide this for you, Debian does):
</p>
<pre>
[Desktop Entry]
Version=1.0
Type=Application
Name=Awesome
Comment=The awesome launcher!
TryExec=awesome
Exec=awesome
</pre>
<p>Save the following as /usr/share/xsessions/gnome-awesome.desktop:
</p>
<pre>
[Desktop Entry]
Name=Awesome GNOME
Comment=Dynamic window manager
TryExec=/usr/bin/gnome-session
Exec=gnome-session --session awesome
Type=XSession
</pre>
<p>Now, when logging in, choose the "Awesome GNOME" session type. Rename however you see fit (some suggestions: "GNOME tiling", "GNawesome", perhaps "Erdgeist").
</p>
<h4><span class="mw-headline" id="Arch_Linux">Arch Linux</span></h4>
<p>Just install the <a rel="nofollow" class="external text" href="https://aur.archlinux.org/packages.php?ID=53096">awesome-gnome</a> package from AUR.
</p>
<h4><span class="mw-headline" id="Debian">Debian</span></h4>
<p>Note: The above gnome-awesome.desktop doesn't seem to work on Debian. It seems that on Debian gdm3 passes the Exec line from the gnome-awesome.desktop file as-is to /etc/X11/Xsession, and that script only supports a single command without arguments. Creating a gnome-awesome.desktop file modeled after the fallback session file that calls a wrapper script works around this.
</p><p>Save the following as /usr/share/xsessions/gnome-awesome.desktop:
</p>
<pre>
[Desktop Entry]
Name=Awesome GNOME
Comment=Dynamic window manager
TryExec=gnome-session
Exec=gnome-session-awesome
Type=XSession
</pre>
<p>Save the following as /usr/bin/gnome-session-awesome
</p>
<pre>
#!/bin/bash
exec gnome-session --session awesome &quot;$@&quot;
</pre>
<p>The awesome.session file is as above.
</p>
<h4><span class="mw-headline" id="Gentoo_Linux">Gentoo Linux</span></h4>
<p>Enable the gnome use flag for x11-wm/awesome package
</p><p><br />
</p>
<h4><span class="mw-headline" id="Ubuntu_11.10">Ubuntu 11.10</span></h4>
<p>Save the following as /usr/share/gnome-session/sessions/awesome.session:
</p>
<pre>
[GNOME Session]
Name=Awesome session
RequiredComponents=gnome-settings-daemon;gnome-panel;
RequiredProviders=windowmanager;
DefaultProvider-windowmanager=awesome
DefaultProvider-notifications=notification-osd
DesktopName=GNOME
</pre>
<p>Save the following as /usr/share/applications/awesome.desktop:
</p>
<pre>
[Desktop Entry]
Version=1.0
Type=Application
Name=Awesome
Comment=The awesome launcher!
TryExec=awesome
Exec=awesome
</pre>
<p>Save the following as /usr/share/xsessions/gnome-awesome.desktop:
</p>
<pre>
[Desktop Entry]
Name=Awesome GNOME
Comment=Dynamic window manager
TryExec=/usr/bin/gnome-session
Exec=gnome-session --session=awesome
Type=XSession
</pre>
<h2><span class="mw-headline" id="Gnome_3.9_.2F_Ubuntu_13.10">Gnome 3.9 / Ubuntu 13.10</span></h2>
<p>Save the following as /usr/share/gnome-session/sessions/awesome.session or /usr/local/share/gnome-session/sessions/awesome.session:
</p>
<pre>
[GNOME Session]
Name=Awesome session
RequiredComponents=awesome;gnome-settings-daemon;
DesktopName=Awesome
</pre>
<p>Save the following as /usr/share/applications/awesome.desktop (unfortunately does not work in /usr/local/share/applications):
</p>
<pre>
[Desktop Entry]
Version=1.0
Type=Application
Name=Awesome
Comment=The awesome launcher!
TryExec=awesome
Exec=awesome
</pre>
<p>Save the following as /usr/share/xsessions/awesome-gnome.desktop:
</p>
<pre>
[Desktop Entry]
Name=Awesome GNOME
Comment=Dynamic window manager
Exec=gnome-session --session=awesome
TryExec=awesome
Type=Application
X-LightDM-DesktopName=Awesome GNOME
X-Ubuntu-Gettext-Domain=gnome-session-3.0
</pre>
<p>Now you need to modify at least /etc/xdg/autostart/gnome-settings-daemon.desktop to add Awesome to the OnlyShowIn key, the result should look like the following:
</p>
<pre>
[Desktop Entry]
Type=Application
Name=GNOME Settings Daemon
Exec=/usr/lib/gnome-settings-daemon/gnome-settings-daemon-localeexec
OnlyShowIn=GNOME;Unity;Awesome;
NoDisplay=true
X-GNOME-Autostart-Phase=Initialization
X-GNOME-Autostart-Notify=true
X-GNOME-AutoRestart=true
X-Ubuntu-Gettext-Domain=gnome-settings-daemon
</pre>
<p>You may also want to check any other files in this directory and modify the OnlyShowIn key, they gnome keyring and screensaver amon others are candidates for this.
</p><p>Lastly don't forget to overide awesome's quit to use gnome-session-quit as described below.
</p><p>If your cursor is invisible, you may need to set cursor - active to false. You can do this by running:
</p>
<pre>
dconf write /org/gnome/settings-daemon/plugins/cursor/active false
</pre>
<p>If the gnome-control-center is missing some menues, check all files /usr/share/applications/gnome*panel*. Adding Awesome to the OnlyShowIn Key will make them visible and accessible again.
</p>
<h2><span class="mw-headline" id="Finally">Finally</span></h2>
<p>Log out and back in again. You should now have awesome as your default window manager. You should also have gnome-panel and all the other gnome things running.
</p>
<h2><span class="mw-headline" id="Going_Forward">Going Forward</span></h2>
<p>You will likely want to choose either gnome-panel or awesome's main wibox as your panel. If you choose to disable your wibox, configure your rc.lua to not start it up. If you choose to disable gnome-panel, it is easiest to stop using gnome-session and run your session in the traditional way.
</p><p>The traditional way is to have a .xinitrc or .Xsession file, which is used as your session. This file is usually a shell script that is run by the login manager or by X directly. When the shell script exits, your session ends. Here is a sample .Xsession / .xinitrc file. (Note that some distros call it .Xsession and others .xinitrc. You may want to make one and ln -s the other one if you don't know which script your distro uses.)
</p>
<pre> gnome-settings-daemon &amp;      # handles themes, starts gnome-screensaver. You may have to use gconf to disable it setting the background.
 nm-applet &amp;                  # assuming you're using Network Manager
 pidgin &amp;                     # if you're using pidgin. You can really put any programs here.
 gnome-power-manager &amp;        # for laptops and stuff
 gnome-volume-manager &amp;       # for mounting CDs, USB sticks, and such
 eval `gnome-keyring-daemon`  # SSH/GPG agent
 exec awesome                 # awesome receives xinit's process id; when it terminates, X will be terminated
</pre>
<p>If you're still using GDM, you can select something along the lines of "X client script" when you choose which session you want to use from the GDM login screen.
</p><p>Note: For themes instead of gnome-settings-daemon you can use gtk-chtheme which can be found in the repository. It's advantage over gnome-settings-daemon is that it doesn't set background and consumes less memory.
</p><p>Note: gnome-volume-manager seems to be renamed and kind of hidden as /usr/lib/gnome-settings-daemon/gnome-fallback-mount-helper at least on Ubuntu 13.10. gnome-power-manager seems to be gone too.
</p>
<h2><span class="mw-headline" id="Problems">Problems</span></h2>
<ul><li> If you run into trouble with "awsetbg" -- ie. it does not set your background and pops up an error, install the program "feh". Installing it should be all you need to do.</li></ul>
<ul><li> If nautilus doesn't want to open gvfs locations (sshfs://, computer://, and so on) check your gnome-settings-daemon path. In some distros it is installed into /usr/libexec. Also you can try solution from <a rel="nofollow" class="external free" href="https://bbs.archlinux.org/viewtopic.php?pid=660605">https://bbs.archlinux.org/viewtopic.php?pid=660605</a> - add </li></ul>
<pre>   eval `dbus-launch --sh-syntax --exit-with-session`
</pre>
<p>to the beginning of ~/.xinitrc
</p>
<ul><li> If you run gnome-settings-daemon, but do not want it to set the background image then run the command below. Note that simply setting /desktop/gnome/background/draw_background to false will not prevent gnome-settings-daemon from setting the background.</li></ul>
<pre>   gconftool-2 --type bool --set /apps/gnome_settings_daemon/plugins/background/active False
</pre>
<ul><li> If you use the gnome-session based launch method, quitting awesome may not log you out, leaving you stuck. In order to fix this, put the following at the beginning of your rc.lua:</li></ul>
<pre>
    -- Override awesome.quit when we're using GNOME
    _awesome_quit = awesome.quit
    awesome.quit = function()
        if os.getenv(&quot;DESKTOP_SESSION&quot;) == &quot;awesome-gnome&quot; then
           os.execute(&quot;/usr/bin/gnome-session-quit&quot;)
        else
	    _awesome_quit()
        end
    end

</pre>
<p>This assumes that you copied the "gnome" xsession file and made a new "awesome-gnome" session. If you modified the existing gnome.session, replace "awesome-gnome" above with "gnome".
</p>
<h2><span class="mw-headline" id="GNOME_Awesome_Applet">GNOME Awesome Applet</span></h2>
<p>For users who want to use GNOME as much as possible (i.e. GNOME panel, notification area, run dialog, etc.),
but still use Awesome as a window manager, <a rel="nofollow" class="external text" href="http://upsilon.cc/~zack/hacking/software/gnome-awesome-applet/">GNOME Awesome Applet</a> is a viable option.
GNOME Awesome Applet is a standard GNOME panel applet that monitors Awesome (e.g. by showing the current layout
as widgets in the wibox do) and enable various interactions with it (e.g. Lua prompt, GNOME Run Dialog, etc.).
</p>
<!-- 
NewPP limit report
CPU time usage: 0.128 seconds
Real time usage: 0.142 seconds
Preprocessor visited node count: 942/1000000
Preprocessor generated node count: 1728/1000000
Post‐expand include size: 6819/2097152 bytes
Template argument size: 126/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 49/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:217-0!*!0!!en!5!* and timestamp 20160515231210 and revision id 6161
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;oldid=6161">https://awesomewm.org/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;oldid=6161</a>"</div>
					<div id='catlinks' class='catlinks catlinks-allhidden'></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Quickly_Setting_up_Awesome_with_Gnome" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Quickly_Setting_up_Awesome_with_Gnome&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Quickly+Setting+up+Awesome+with+Gnome&amp;returntoquery=redirect%3Dno%26printable%3Dyes" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Quickly_Setting_up_Awesome_with_Gnome" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Quickly_Setting_up_Awesome_with_Gnome" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;oldid=6161" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Quickly_Setting_up_Awesome_with_Gnome&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 30 October 2013, at 18:21.</li>
									<li id="viewcount">This page has been accessed 277,484 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;printable=1\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":102});
}</script></body></html>