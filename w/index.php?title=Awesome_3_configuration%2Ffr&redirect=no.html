<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<meta charset="UTF-8" />
<title>Configuration d’awesome 3 - awesome</title>
<meta name="generator" content="MediaWiki 1.24.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit" />
<link rel="edit" title="Edit" href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit" />
<link rel="shortcut icon" href="/images/icons/aw_16.png" />
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="awesome (en)" />
<link rel="EditURI" type="application/rsd+xml" href="https://awesomewm.org/w/api.php?action=rsd" />
<link rel="alternate" hreflang="x-default" href="/wiki/Awesome_3_configuration/fr" />
<link rel="copyright" href="https://creativecommons.org/licenses/by/3.0/" />
<link rel="alternate" type="application/atom+xml" title="awesome Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=mediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.skinning.content.externallinks%7Cmediawiki.skinning.interface%7Cmediawiki.ui.button%7Cskins.monobook.styles&amp;only=styles&amp;skin=monobook&amp;*" />
<!--[if IE 6]><link rel="stylesheet" href="/w/skins/MonoBook/IE60Fixes.css?303" media="screen" /><![endif]-->
<!--[if IE 7]><link rel="stylesheet" href="/w/skins/MonoBook/IE70Fixes.css?303" media="screen" /><![endif]--><meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=monobook&amp;*" />
<style>a:lang(ar),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}
/* cache key: awesome:resourceloader:filter:minify-css:7:ad506c29508072131b881ff3f2f9d363 */</style>
<script src="https://awesomewm.org/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=monobook&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Awesome_3_configuration/fr","wgTitle":"Awesome 3 configuration/fr","wgCurRevisionId":4705,"wgRevisionId":4705,"wgArticleId":369,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Awesome3"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Awesome_3_configuration/fr","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function($,jQuery){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"editfont":"default","editondblclick":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":1,"extendwatchlist":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nickname":"","norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"rcdays":7,"rclimit":50,"rows":25,"showhiddencats":0,"shownumberswatching":1,"showtoolbar":1,"skin":"monobook","stubthreshold":0,"thumbsize":5,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":1,"watchdefault":1,"watchdeletion":0,"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"watchrollback":0,
"wllimit":250,"useeditwarning":1,"prefershttps":1,"language":"en","variant-gan":"gan","variant-iu":"iu","variant-kk":"kk","variant-ku":"ku","variant-shi":"shi","variant-sr":"sr","variant-tg":"tg","variant-uz":"uz","variant-zh":"zh","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"variant":"en"});},{},{});mw.loader.implement("user.tokens",function($,jQuery){mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\"});},{},{});
/* cache key: awesome:resourceloader:filter:minify-js:7:ab52f6eb1652fbc58fa39bdfdc3926f5 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
</head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-Awesome_3_configuration_fr skin-monobook action-view">
<div id="globalWrapper">
		<div id="column-content">
			<div id="content" class="mw-body" role="main">
				<a id="top"></a>
									<div id="siteNotice"><div id="localNotice" lang="en" dir="ltr"><p><b>This wiki will shut down!</b>
</p><p>Please note that this wiki will be made read-only and eventually be taken offline.
</p><p>A replacement is being discussed at <a rel="nofollow" class="external free" href="https://github.com/awesomeWM/awesome-www/issues/7">https://github.com/awesomeWM/awesome-www/issues/7</a>. We'd be happy to have more input for that discussion and volunteers who help us migrate the content of this wiki to its replacement.
</p></div></div>
				<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Configuration d’awesome 3</span></h1>

				<div id="bodyContent" class="mw-body-content">
					<div id="siteSub">From awesome</div>
					<div id="contentSub"></div>
										<div id="jump-to-nav" class="mw-jump">Jump to: <a href="#column-one">navigation</a>, <a href="#searchInput">search</a></div>

					<!-- start content -->
					<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="LanguageLinks">
<table width="100%">
<tr valign="top" style="background: #EEF3E2">
<td style="width: 25px; padding-left: 0.5em;"><img alt="Languages" src="/w/images/thumb/Geographylogo.png/25px-Geographylogo.png" width="25" height="25" srcset="/w/images/thumb/Geographylogo.png/38px-Geographylogo.png 1.5x, /w/images/Geographylogo.png 2x" /></td>
<td style="width: 10px; white-space: nowrap; padding: 4px 1em 0 0.5em; border-right: 1px solid #aaaaaa;"><b>Languages:</b>&#160;</td><td style="padding: 1px 1em 0; background: #F6F9ED;">
<p><b><a href="/wiki/Awesome_3_configuration" title="Awesome 3 configuration">English</a></b>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="es"><a href="/wiki/Awesome_3_configuration/es" title="Awesome 3 configuration/es">español</a></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="fr"><strong class="selflink">français</strong></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="it"><a href="/wiki/Awesome_3_configuration/it" title="Awesome 3 configuration/it">italiano</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="ru"><a href="/wiki/Awesome_3_configuration/ru" title="Awesome 3 configuration/ru">русский</a></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
<span></span>
&#160;&#8226;&#160;<span lang="zh-hans"><a href="/wiki/Awesome_3_configuration/zh-hans" title="Awesome 3 configuration/zh-hans">中文（简体）‎</a></span>
<span></span>
<span></span>
</p>
</td></tr></table></div>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Contexte"><span class="tocnumber">1</span> <span class="toctext">Contexte</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Fichiers"><span class="tocnumber">2</span> <span class="toctext">Fichiers</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Bases_en_Lua"><span class="tocnumber">3</span> <span class="toctext">Bases en Lua</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Types_d.E2.80.99objets_awesome"><span class="tocnumber">4</span> <span class="toctext">Types d’objets awesome</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Construisons_notre_interface"><span class="tocnumber">5</span> <span class="toctext">Construisons notre interface</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="#Cr.C3.A9ation_d.E2.80.99onglets"><span class="tocnumber">5.1</span> <span class="toctext">Création d’onglets</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Manipulation_des_clients"><span class="tocnumber">5.2</span> <span class="toctext">Manipulation des clients</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Cr.C3.A9ation_de_widgets"><span class="tocnumber">5.3</span> <span class="toctext">Création de widgets</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Cr.C3.A9ation_de_barre_de_statut"><span class="tocnumber">5.4</span> <span class="toctext">Création de barre de statut</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="#Cr.C3.A9ation_de_barre_de_titre"><span class="tocnumber">5.5</span> <span class="toctext">Création de barre de titre</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Utiliser_des_hooks"><span class="tocnumber">5.6</span> <span class="toctext">Utiliser des <i>hooks</i></span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#Ex.C3.A9cuter_des_commandes_et_des_scripts"><span class="tocnumber">5.7</span> <span class="toctext">Exécuter des commandes et des scripts</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="#Biblioth.C3.A8ques_Lua_d.E2.80.99awesome"><span class="tocnumber">6</span> <span class="toctext">Bibliothèques Lua d’awesome</span></a></li>
</ul>
</div>

<h2><span class="mw-headline" id="Contexte">Contexte</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=1" title="Edit section: Contexte">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Introduction de <a href="/wiki/User:Jd" title="User:Jd">Julien Danjou</a>&#160;:
</p><p>« <i><b>awesome 3</b> utilise maintenant un fichier de configuration fondé sur le langage <a rel="nofollow" class="external text" href="http://www.lua.org">Lua</a>. La plupart des gens venant du monde d’awesome 2 risquent de râler car l’<a href="/wiki/Awesomerc/fr" title="Awesomerc/fr">ancien fichier de configuration</a> au format libconfuse a disparu, d’autres détesteront ça parce qu’ils n’ont jamais compris le fichier de configuration d’<a rel="nofollow" class="external text" href="http://modeemi.fi/~tuomov/ion/">ion</a>, mais je l’ai fait quand même.</i>
</p><p><i>Pourquoi Lua&#160;?</i>
</p><p><i>Parce qu’il offre plus de contrôle. Il offre un comportement conditionnel&#160;: avant, si on voulait qu’awesome fasse quelque chose quand il se passe quelque chose, on ne pouvait pas. Maintenant, on peut. On peut faire quasiment </i>tout<i> dans la liste des choses qu’un gestionnaire de fenêtres peut faire.</i>&#160;»
</p>
<h2><span class="mw-headline" id="Fichiers">Fichiers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=2" title="Edit section: Fichiers">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul><li> ~/.config/awesome/rc.lua</li>
<li> /etc/xdg/awesome/rc.lua</li></ul>
<h2><span class="mw-headline" id="Bases_en_Lua">Bases en Lua</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=3" title="Edit section: Bases en Lua">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>On parle de Lua, alors on va d’abord apprendre le Lua. Si vous ne voulez pas, n’utilisez pas awesome 3 et arrêtez de lire maintenant. Ou alors, récupérez le fichier de configuration de l’archive <b>.tar</b> ou de quelqu’un, et bidouillez un peu&#160;; ça devrait marcher même sans connaissance du langage Lua.
</p><p>Pour ceux qui lisent encore, c’est super&#160;! Lua est un langage <i>simple</i>. D’un autre côté, si vous n’êtes pas habitué du tout aux langages informatiques, <i>i. e.</i> si vous ne savez pas ce que sont des « objets », des « méthodes » et des « arguments », eh bien, vous serez perdus en lisant ce document, alors allez apprendre les bases et revenez !
</p><p>C’est un peu élitiste&#160;: awesome 3 est conçu pour les utilisateurs avancés avec un minimum de connaissances informatiques, mais si vous êtes vraiment motivé, ce n’est pas pour autant que vous ne pourrez pas apprendre les bases pour configurer et contrôler awesome.
</p><p>La meilleure façon d’apprendre le Lua est de passer une heure ou deux à lire le livre <i><a rel="nofollow" class="external text" href="http://www.lua.org/pil/">Programming In Lua</a></i>, qui est bien fait et qui vous donnera un aperçu de ce qu’il est possible de faire en Lua. N’hésitez pas à faire des marque-pages sur les notions importantes de <i>flow control</i>, d’<i>useful statements</i>, etc. Ça vous aidera&#160;: c’est toujours horrible de chercher la syntaxe d’une boucle « for » quand on essaie encore de taper des lignes de code.
</p>
<h2><span class="mw-headline" id="Types_d.E2.80.99objets_awesome">Types d’objets awesome</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=4" title="Edit section: Types d’objets awesome">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Pour les gens qui viennent du fin fond de l’espace intersidéral et qui n’utilisaient pas awesome, voici les objets de bases qu’awesome vous propose et que vous allez devoir manipuler très bientôt&#160;:
</p>
<dl><dt>Écran</dt>
<dd> Il n’y a pas de vrai objet « écran » dans awesome, mais on parlera des écrans plus tard. Un écran est un moniteur physique branché à votre ordinateur. Ils sont représentés par leurs numéros, commençant à 1.</dd>
<dt>Client</dt>
<dd> Un client est une fenêtre. Ça doit être suffisamment clair.</dd>
<dt>Onglet</dt>
<dd> Un onglet est en gros comme un bureau ou un bureau virtuel, mais le concept est moins rigide.</dd>
<dd> Chaque client a au moins un onglet qui lui est assigné. Chaque écran a au moins un onglet.</dd>
<dd> À tout moment, sur un écran, vous pouvez voir n’importe quel onglet numéro untel. Ne regarder aucun onglet revient à cacher tous les clients. Regarder un ou plusieurs onglets revient à voir tous les clients qui ont ces onglets.</dd>
<dt>Widget</dt>
<dd> Les widgets sont des objets qui affichent des trucs sur l’écran. Il y a de nombreux types de widgets. Par exemple, il y a un widget « boîte de texte » qui affiche du texte à l’écran. Il y a aussi un widget « boîte à icone » qui affiche une icône à l’écran.</dd>
<dt>Barre de titre</dt>
<dd> Une barre de titre est une barre qui se trouve autour d’un client et qui lui est attaché. Vous pouvez mettre des widgets dessus.</dd>
<dt>Barre de statut</dt>
<dd> Une barre de statut est une barre qui est fixée au bord d’un écran. Vous pouvez mettre des widgets dessus.</dd></dl>
<h2><span class="mw-headline" id="Construisons_notre_interface">Construisons notre interface</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=5" title="Edit section: Construisons notre interface">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Pour construire notre interface, on doit utiliser les fonctions et méthodes d’awesome&#160;: <i>tout</i> est documenté dans la <a rel="nofollow" class="external text" href="http://awesome.naquadah.org/doc/api/">documentation de l’interface de programmation (API) de Lua</a> et dans la page de manuel <b>awesomerc(5)</b>. Lisez-les. Elles sont vos références de développement. À nouveau&#160;: lisez-les, tout est documenté dans cette page de manuel et la doc de Lua.
</p><p>C’est quelle page de manuel, déjà&#160;? … <b>awesomerc(5)</b>. Bien. Vous suivez.
</p><p><i>Voir aussi&#160;: <a href="/w/index.php?title=Man_pages/fr&amp;action=edit&amp;redlink=1" class="new" title="Man pages/fr (page does not exist)">Pages de manuel</a></i>
</p>
<h3><span class="mw-headline" id="Cr.C3.A9ation_d.E2.80.99onglets">Création d’onglets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=6" title="Edit section: Création d’onglets">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Si vous lancez awesome sans aucune opération Lua, vous n’aurez aucun onglet, ce qui est critique. awesome veut au moins un onglet.
</p><p>Donc d’abord, on doit créer un onglet. Comment on fait ça ? On cherche « <i>tag()</i> » et sa documentation dans la page de manuel&#160;: c’est la fonction de création d’onglets. Ça dit que le paramètre de la fonction doit être un tableau avec au moins un attribut de nom. Faisons ça&#160;:
</p>
<pre>mytagone = tag({ name = "one" })
</pre>
<p>Là, on a déclaré un objet, « <i>mytagone</i> », qui est un objet « onglet », et son nom est « <i>one</i> ». Si on veut lui donner la disposition par défaut, on la rajoute sous la forme d’une paire de valeurs ou clés dans le tableau, comme expliqué dans la documentation.
</p>
<pre>mytagtwo = tag({name = "two", layout = "floating" })
</pre>
<p>Maintenant, on a un deuxième objet onglet, « <i>mytagtwo</i> »&#160;: son nom est « <i>two</i> », et par défaut il arrange les clients avec l’algorithme flottant, qui, comme son nom l’indique, laisse les clients flotter.
</p><p>Créer des objets, c’est sympa, mais bon, pour le moment ça sert à rien. Souvenez-vous&#160;: chaque écran a au moins un onglet. Donc on doit ajouter les onglets qu’on vient de créer à notre premier écran. L’attribut <i>screen</i> de l’objet onglet fait ça pour nous&#160;: on a juste à lui donner le numéro de l’écran.
</p>
<pre>mytagone.screen = 1
</pre>
<p>On vient d’ajouter cet onglet à l’écran nº1. Si on a un deuxième écran (multi-écran&#160;: Zaphod, Xinerama ou XRandR sont identiques pour awesome), on peut ajouter notre deuxième onglet à cet écran&#160;:
</p>
<pre>mytagtwo.screen = 2
</pre>
<p>Et si on a trois écrans, on doit… Eh bien, vous avez sans doute déjà trouvé.
</p><p>Si vous voulez savoir combien d’écrans vous avez, vous pouvez utiliser la fonction <i>screen.count()</i>.
</p><p>Vous pouvez manipuler l’affichage d’un onglet avec l’attribut <i>selected</i>. Si vous voulez voir votre onglet « <i>one</i> »&#160;:
</p>
<pre>mytagone.selected = true
</pre>
<p>Si vous voulez le cacher, vous pouvez évidemment affecter la valeur à <i>false</i>.
</p><p>Vous pouvez manipuler tous les paramètres de l’onglet avec ses attributs. Regardez dans la documentation.
</p>
<h3><span class="mw-headline" id="Manipulation_des_clients">Manipulation des clients</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=7" title="Edit section: Manipulation des clients">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Parfois, vous aurez des objets « client ». C’est très utile dans les fonctions <i>hook</i>, dont on parlera plus tard.
</p><p>Un client est un objet qui a des méthodes lui aussi, comme les onglets et les autres. Décidons que la variable <i>c</i> est notre objet client.
</p><p>Par exemple, si on veut qu’un client soit flottant, on peut utiliser l’attribut <i>floating</i> de cette façon&#160;:
</p>
<pre>c.floating = true
</pre>
<p>Certaines méthodes retournent des valeurs qui peuvent être utilisées plus tard pour analyse. Si l'on veut savoir si un client est flottant, on peut récupérer l’attribut <i>floating</i>&#160;:
</p>
<pre>is_client_floating = c.floating
</pre>
<p>La variable <i>is_client_floating</i> contient maintenant un booléen&#160;: <i>true</i> si le client flotte ou <i>false</i> sinon.
</p><p>On peut combiner ces deux fonctions pour créer une fonction de bascule&#160;: cette fonction mettra l’état flottant du client à <i>true</i> s’il ne l’est pas, et à <i>false</i> si l’est.
</p>
<pre>function client_floating_toggle(c)
    if c then
        c.floating = not c.floating
    end
end
</pre>
<p>On peut aussi utiliser ça pour basculer un onglet à notre client&#160;:
</p>
<pre>function client_tag_with_tag_one(c)
    if c then
        local t = c:tags()
        table.insert(t, one)
        c:tags(t)
    end
end
</pre>
<h3><span class="mw-headline" id="Cr.C3.A9ation_de_widgets">Création de widgets</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=8" title="Edit section: Création de widgets">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Les widgets sont de petits objets qui peuvent être placés soit sur une barre de titre, soit sur une barre de statut. Comme pour les onglets, si vous ne les ajoutez nulle part, ils servent complètement à rien. Pour créer un widget, on utilise la fonction <i>widget()</i>&#160;:
</p>
<pre>mytextbox = widget({ type = "textbox", name = "mytextbox" })
</pre>
<p><i>mytextbox</i> contient maintenant un objet « widget ». Vous pouvez utiliser différents attributs avec différents types de widgets&#160;; ce qui suit paramètre le texte affiché par la boîte textuelle.
</p>
<pre>mytextbox.text = "Hello, world!"
</pre>
<h3><span class="mw-headline" id="Cr.C3.A9ation_de_barre_de_statut">Création de barre de statut</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=9" title="Edit section: Création de barre de statut">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Les barres de statut sons des conteneurs à widgets que vous pouvez mettre sur les bords haut, bas, gauche ou droite de l’écran.
</p><p>D’abord, on crée une barre de statut&#160;:
</p>
<pre>mystatusbar = statusbar({ position = "top", name = "mystatusbar" })
</pre>
<p><i>mystatusbar</i> est maintenant une variable qui contient un objet « barre de statut ». Comme on a mis la valeur de <i>position</i> à <i>top</i>, la barre sera placée en haut de l’écran. Évidemment, on ne l’a pas ajoutée à l’écran, donc elle ne sert à rien pour le moment. Réglons ça&#160;:
</p>
<pre>mystatusbar.screen = 1
</pre>
<p>Notre barre de statut est maintenant visible en haut de l’écran. Mais bon, elle ne fait rien, donc elle n’est pas très utile… Ajoutons des widgets&#160;!
</p>
<pre>-- Crée une boîte textuelle
mytextbox = widget({ type = "textbox", name = "mytextbox" })
-- Paramètre le texte de la boîte textuelle
mytextbox.text = "Hello, world!"
-- Crée une barre de statut
mystatusbar = statusbar({ position = "top", name = "mystatusbar" })
-- Ajoute des widgets à la barre de statut
mystatusbar:widgets({ mytextbox })
-- Ajoute la barre de statut à l’écran nº1
mystatusbar.screen = 1
</pre>
<p>Et <i>that’s all, folks!</i>. On a maintenant une barre de statut toute neuve en haut de l’écran, qui affiche « <i>Hello, world!</i> ». De cette façon, vous pouvez mettre en place une barre de statut avec de nombreux widgets avant de lancer awesome, dans votre fichier de configuration.
</p>
<h3><span class="mw-headline" id="Cr.C3.A9ation_de_barre_de_titre">Création de barre de titre</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=10" title="Edit section: Création de barre de titre">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Comme dit plus tôt, les barres de titre sont comme des barres de statut, sauf qu’elles sont autour d’une fenêtre. Pour créer une barre de titre, c’est toujours la même rengaine&#160;:
</p>
<pre>mytitlebar = titlebar({ position = "top" })
</pre>
<p>Ensuite, vous voulez sans doute mettre des widgets dessus. Ça marche comme pour les barres de statut&#160;:
</p>
<pre>mytitlebartitle = widget({ type = "textbox", name = "mytitlebartitle" })
mytitlebar:widgets({ mytitlebartitle })
</pre>
<p>Une barre de titre doit être ajoutée à un objet « client ». On peut obtenir le client qui est actuellement au premier plan&#160;: c’est stocké dans la variable <i>client.focus</i>. C’est parti&#160;:
</p>
<pre>-- On récupère le client au premier plan
c = client.focus
-- On met une barre de titre dessus
c.titlebar = mytitlebar
</pre>
<p>Maintenant, le client au premier plan a une barre de titre sympa au-dessus de lui ! Mais il n’y a rien dessus. Ah si, attendez ! Vous vous souvenez, on a déjà ajouté un widget « boîte textuelle » dans la barre de titre. On peut donc maintenant afficher le nom du client dedans&#160;:
</p>
<pre>mytitlebartitle.text = c.name
</pre>
<p>L’attribut <i>name</i> est une chaîne de caractères contenant le titre du client, et on l’a mis dans le texte du widget. Maintenant, la barre de titre affiche le titre du client.
</p><p>Souvenez-vous&#160;: une barre de titre est un objet, et un client est un autre objet. Donc on doit créer une barre de titre pour chaque client pour lequel vous voulez une barre de titre autour.
</p>
<h3><span class="mw-headline" id="Utiliser_des_hooks">Utiliser des <i>hooks</i></span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=11" title="Edit section: Utiliser des hooks">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Avec ce qu’on vient de voir, vous pouvez construire une interface sympa. Mais imaginez maintenant que vous voulez mettre à jour le titre qui s’affiche dans la barre de titre d’un client&#160;: vous ne pouvez pas. Attendez&#160;! Voilà la solution&#160;: les <i>hooks</i>.
</p><p>Avec les <i>hooks</i>, vous pouvez définir des fonctions qui sont appelées quand un évènement se produit. Essayons sur un exemple simple.
</p><p>Quand un nouveau client arrive sur l’écran, awesome lance la fonction liée au <i>hook</i> « <i>manage</i> ». Cette fonction est appelée avec le nouveau client comme argument. Voici un exemple&#160;:
</p>
<pre>function hook_manage(c)
    if c.name:find("mplayer") then
        c.floating = true
    end
end
</pre>
<p>D’abord, on définit une fonction <i>hook_manage</i>, avec un argument qui s’appelle <i>c</i>, qui sera le client. Ensuite, on essaie de trouver la chaîne « mplayer » dans le nom du client, et si c’est le cas, on le rend flottant.
</p>
<pre> awful.hooks.manage.register(hook_manage)
</pre>
<p>Ensuite, avec cet appel, on définit que la fonction qui doit être appelée à l’arrivée de chaque client est <i>hook_manage</i>.
</p><p>Il y a de nombreux <i>hooks</i> que vous pouvez utiliser et définir&#160;: focus, unfocus, manage, unmanage, mouseover, arrange, titleupdate, urgent, timer, etc. Reportez-vous à la page de manuel pour plus d’information.
</p>
<h3><span class="mw-headline" id="Ex.C3.A9cuter_des_commandes_et_des_scripts">Exécuter des commandes et des scripts</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=12" title="Edit section: Exécuter des commandes et des scripts">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Vous pouvez exécuter des commandes et des scripts depuis la configuration de base de Lua. voici un exemple de fonction qui prend une commande en paramètre et renvoie sa sortie. C’est très utile par exemple pour mettre des sorties de commandes dans des boîtes textuelles.
</p>
<pre>-- Exécute « command » et renvoie sa sortie. On ne va sans doute pas
-- exécuter seulement des commandes avec une seule ligne de sortie.
function execute_command(command)
   local fh = io.popen(command)
   local str = ""
   for i in fh:lines() do
      str = str .. i
   end
   io.close(fh)
   return str
end
</pre>
<p>Voici un exemple où l’on met <b>/proc/loadavg</b> dans <i>mytextbox</i>&#160;:
</p>
<pre>mytextbox.text = " " .. execute_command("cat /proc/loadavg") .. " "
</pre>
<h2><span class="mw-headline" id="Biblioth.C3.A8ques_Lua_d.E2.80.99awesome">Bibliothèques Lua d’awesome</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit&amp;section=13" title="Edit section: Bibliothèques Lua d’awesome">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<dl><dt><a href="/w/index.php?title=Awful&amp;action=edit&amp;redlink=1" class="new" title="Awful (page does not exist)">Awful</a></dt>
<dd> La bibliothèque par défaut pour interagir avec awesome, comme les actions avec la souris ou les touches du clavier.</dd>
<dt><a href="/wiki/Beautiful/fr" title="Beautiful/fr">Beautiful</a></dt>
<dd> Bibliothèque pour changer le thème d’apparence d’awesome.</dd>
<dt><a href="/wiki/Eminent" title="Eminent">Eminent</a></dt>
<dd> Bibliothèque Lua qui vous permet de faire des onglets dynamiques. Les onglets dynamiques, dans ce contexte, signifie que le nombre d’onglets que vous avez n’est pas prédéfini&#160;; vous pouvez donnez des noms d’onglets spécifiques, mais encore mieux par exemple&#160;: simplement aller sur l’onglet suivant quand vous êtes sur le dernier onglet vous fournit un onglet tout neuf, ce qui vous permet de vous adapter à de nombreuses situations sans changer votre fichier de configuration pour ajouter ou enlever un onglet. <i>Cette bibliothèque est obsolète&#160;: Shifty ci-dessous est plus flexible est plus à jour</i></dd>
<dt><a href="/wiki/Shifty/fr" title="Shifty/fr">Shifty</a></dt>
<dd> Bibliothèque à jour de gestion d’onglets dynamiques et de clients.</dd>
<dt><a href="/wiki/Naughty/fr" title="Naughty/fr">Naughty</a></dt>
<dd> Bibliothèque de notification.</dd>
<dt><a href="/wiki/Wicked/fr" title="Wicked/fr">Wicked</a></dt>
<dd> Bibliothèque Lua pour awesome, fournissant plus de widgets&#160;; par exemple des widgets MPD, l’utilisation du processeur, de la mémoire, etc.</dd></dl>

<!-- 
NewPP limit report
CPU time usage: 0.148 seconds
Real time usage: 0.178 seconds
Preprocessor visited node count: 698/1000000
Preprocessor generated node count: 1392/1000000
Post‐expand include size: 4909/2097152 bytes
Template argument size: 3793/2097152 bytes
Highest expansion depth: 6/40
Expensive parser function count: 48/100
-->

<!-- Saved in parser cache with key awesome:pcache:idhash:369-0!*!0!!en!5!* and timestamp 20160515231657 and revision id 4705
 -->
</div><div class="printfooter">
Retrieved from "<a dir="ltr" href="https://awesomewm.org/w/index.php?title=Awesome_3_configuration/fr&amp;oldid=4705">https://awesomewm.org/w/index.php?title=Awesome_3_configuration/fr&amp;oldid=4705</a>"</div>
					<div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Special:Categories" title="Special:Categories">Category</a>: <ul><li><a href="/wiki/Category:Awesome3" title="Category:Awesome3">Awesome3</a></li></ul></div></div>					<!-- end content -->
										<div class="visualClear"></div>
				</div>
			</div>
		</div>
		<div id="column-one">
			<h2>Navigation menu</h2>
					<div id="p-cactions" class="portlet" role="navigation">
			<h3>Views</h3>

			<div class="pBody">
				<ul>
				<li id="ca-nstab-main" class="selected"><a href="/wiki/Awesome_3_configuration/fr" title="View the content page [c]" accesskey="c">Page</a></li>
				<li id="ca-talk" class="new"><a href="/w/index.php?title=Talk:Awesome_3_configuration/fr&amp;action=edit&amp;redlink=1" title="Discussion about the content page [t]" accesskey="t">Discussion</a></li>
				<li id="ca-edit"><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=edit" title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></li>
				<li id="ca-history"><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=history" rel="archives" title="Past revisions of this page [h]" accesskey="h">History</a></li>
				</ul>
							</div>
		</div>
				<div class="portlet" id="p-personal" role="navigation">
				<h3>Personal tools</h3>

				<div class="pBody">
					<ul>
													<li id="pt-anonuserpage"><a href="/wiki/User:95.90.224.24" class="new" title="The user page for the IP address you are editing as [.]" accesskey=".">95.90.224.24</a></li>
													<li id="pt-anontalk"><a href="/wiki/User_talk:95.90.224.24" class="new" title="Discussion about edits from this IP address [n]" accesskey="n">Talk for this IP address</a></li>
													<li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Awesome+3+configuration%2Ffr&amp;returntoquery=redirect%3Dno" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>
											</ul>
				</div>
			</div>
			<div class="portlet" id="p-logo" role="banner">
				<a href="/wiki/Main_Page" style="background-image: url(/images/icons/aw_64.png);" title="Visit the main page"></a>
			</div>
				<div class="generated-sidebar portlet" id="p-navigation" role="navigation">
		<h3>Navigation</h3>
		<div class='pBody'>
							<ul>
											<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li>
											<li id="n-Homepage"><a href="http://awesome.naquadah.org" rel="nofollow">Homepage</a></li>
											<li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li>
											<li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random page [x]" accesskey="x">Random page</a></li>
											<li id="n-help"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/Help:Contents" title="The place to find out">Help</a></li>
									</ul>
					</div>
		</div>
			<div id="p-search" class="portlet" role="search">
			<h3><label for="searchInput">Search</label></h3>

			<div id="searchBody" class="pBody">
				<form action="/w/index.php" id="searchform">
					<input type='hidden' name="title" value="Special:Search"/>
					<input type="search" name="search" placeholder="Search" title="Search awesome [f]" accesskey="f" id="searchInput" />
					<input type="submit" name="go" value="Go" title="Go to a page with this exact name if exists" id="searchGoButton" class="searchButton" />&#160;
						<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton" />
				</form>

							</div>
		</div>
			<div class="portlet" id="p-tb" role="navigation">
			<h3>Tools</h3>

			<div class="pBody">
				<ul>
											<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Awesome_3_configuration/fr" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li>
											<li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Awesome_3_configuration/fr" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li>
											<li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li>
											<li id="t-print"><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;redirect=no&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>
											<li id="t-permalink"><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;oldid=4705" title="Permanent link to this revision of the page">Permanent link</a></li>
											<li id="t-info"><a href="/w/index.php?title=Awesome_3_configuration/fr&amp;action=info">Page information</a></li>
									</ul>
							</div>
		</div>
			</div><!-- end of the left (by default at least) column -->
		<div class="visualClear"></div>
					<div id="footer" role="contentinfo">
						<div id="f-copyrightico">
									<a href="https://creativecommons.org/licenses/by/3.0/"><img src="https://i.creativecommons.org/l/by/3.0/88x31.png" alt="Attribution 3.0 Unported" width="88" height="31" /></a>
							</div>
					<div id="f-poweredbyico">
									<a href="//www.mediawiki.org/"><img src="/w/resources/assets/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
							</div>
					<ul id="f-list">
									<li id="lastmod"> This page was last modified on 21 January 2011, at 14:39.</li>
									<li id="viewcount">This page has been accessed 14,629 times.</li>
									<li id="copyright">Content is available under <a class="external" rel="nofollow" href="https://creativecommons.org/licenses/by/3.0/">Attribution 3.0 Unported</a> unless otherwise noted.</li>
									<li id="privacy"><a href="/wiki/awesome:Privacy_policy" title="awesome:Privacy policy">Privacy policy</a></li>
									<li id="about"><a href="/wiki/awesome:About" title="awesome:About">About awesome</a></li>
									<li id="disclaimer"><a href="/wiki/awesome:General_disclaimer" title="awesome:General disclaimer">Disclaimers</a></li>
							</ul>
		</div>
		</div>
		<script>/*<![CDATA[*/window.jQuery && jQuery.ready();/*]]>*/</script><script>if(window.mw){
mw.loader.state({"site":"loading","user":"ready","user.groups":"ready"});
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.toc","mediawiki.action.view.postEdit","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.searchSuggest"],null,true);
}</script>
<script>if(window.mw){
document.write("\u003Cscript src=\"https://awesomewm.org/w/load.php?debug=false\u0026amp;lang=en\u0026amp;modules=site\u0026amp;only=scripts\u0026amp;skin=monobook\u0026amp;*\"\u003E\u003C/script\u003E");
}</script>
<script>if(window.mw){
mw.config.set({"wgBackendResponseTime":341});
}</script></body></html>